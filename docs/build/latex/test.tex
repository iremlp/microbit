%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,french]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
 \ifdefined\DeclareUnicodeCharacterAsOptional
  \DeclareUnicodeCharacter{"00A0}{\nobreakspace}
  \DeclareUnicodeCharacter{"2500}{\sphinxunichar{2500}}
  \DeclareUnicodeCharacter{"2502}{\sphinxunichar{2502}}
  \DeclareUnicodeCharacter{"2514}{\sphinxunichar{2514}}
  \DeclareUnicodeCharacter{"251C}{\sphinxunichar{251C}}
  \DeclareUnicodeCharacter{"2572}{\textbackslash}
 \else
  \DeclareUnicodeCharacter{00A0}{\nobreakspace}
  \DeclareUnicodeCharacter{2500}{\sphinxunichar{2500}}
  \DeclareUnicodeCharacter{2502}{\sphinxunichar{2502}}
  \DeclareUnicodeCharacter{2514}{\sphinxunichar{2514}}
  \DeclareUnicodeCharacter{251C}{\sphinxunichar{251C}}
  \DeclareUnicodeCharacter{2572}{\textbackslash}
 \fi
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage[french]{babel}
\usepackage{times}
\usepackage[Sonny]{fncychap}
\ChNameVar{\Large\normalfont\sffamily}
\ChTitleVar{\Large\normalfont\sffamily}
\usepackage{sphinx}

\usepackage{geometry}

% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}
\addto\captionsfrench{\renewcommand{\contentsname}{Prise en main}}

\addto\captionsfrench{\renewcommand{\figurename}{Fig.}}
\addto\captionsfrench{\renewcommand{\tablename}{Tableau}}
\addto\captionsfrench{\renewcommand{\literalblockname}{Code source}}

\addto\captionsfrench{\renewcommand{\literalblockcontinuedname}{suite de la page précédente}}
\addto\captionsfrench{\renewcommand{\literalblockcontinuesname}{suite sur la page suivante}}

\addto\extrasfrench{\def\pageautorefname{page}}

\setcounter{tocdepth}{0}



\title{Ressources pour la carte Micro:bit}
\date{juin 20, 2018}
\release{1}
\author{IREM Marseille}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Version}
\makeindex

\begin{document}

\maketitle
\sphinxtableofcontents
\phantomsection\label{\detokenize{index::doc}}


\sphinxstyleemphasis{par le groupe InEFLP de l’IREM de Marseille}

\sphinxstylestrong{Contenu du site}

Vous trouverez dans ce document des ressources permettant de se
former à Micro:bit.

\sphinxstylestrong{Qui sommes-nous ?}

Nous sommes des enseignants de maths/sciences regroupés au sein d’un groupe de recherche
de l”\sphinxhref{https://irem.univ-amu.fr/fr}{IREM de Marseille}.

Notre groupe, \sphinxstyleemphasis{Innovation, Expérimentation et Formation en Lycée Professionnel} (InEFLP)
a une partie de son travail consacrée l’enseignement de l’algorithmique
en classes de lycée professionnel. Dans le cadre de cette recherche,
nous explorons les objets connectés tels que Arduino ou Microbit.

\sphinxhref{https://irem.univ-amu.fr/fr/groupes-travail/groupe-travail-innovation-experimentation-formation-lp}{Site du groupe InEFLP}.
\sphinxhref{https://irem.univ-amu.fr/fr}{\sphinxincludegraphics[width=150\sphinxpxdimen]{{logo-irem-2013-blanc}.jpg}}\sphinxhref{https://irem.univ-amu.fr/fr}{\sphinxincludegraphics[width=150\sphinxpxdimen]{{amu}.png}}
\sphinxstylestrong{Table des matières du document}


\chapter{Prise en main de Micro:bit}
\label{\detokenize{index:prise-en-main-de-micro-bit}}\label{\detokenize{index:formations-et-ressources-pour-micro-bit}}

\section{Micro:bit, c’est quoi?}
\label{\detokenize{decouverte/05_generalite:micro-bit-c-est-quoi}}\label{\detokenize{decouverte/05_generalite:dec-generalite}}\label{\detokenize{decouverte/05_generalite::doc}}
Micro:bit est un microcontrôleur développé au Royaume-Unis.
Par ses caractéristiques techniques et ses interfaces
pédagogiques, cet objet possède un fort potentiel pour
l’enseignement de l’algorithmique.

Après un bref rappel historique, nous expliquerons plus en
détail les caractéristiques propres de cet objet.
Nous mettrons ensuite en avant la facilité de mise en œuvre en
formation puis nous poursuivrons en donnant un premier aperçu
de l’intérêt pédagogique de Micro:bit.

\noindent{\hspace*{\fill}\sphinxincludegraphics[width=0.650\linewidth]{{mb}.png}\hspace*{\fill}}


\subsection{Bref historique}
\label{\detokenize{decouverte/05_generalite:bref-historique}}
Le développement de Micro:bit s’inscrit dans le cadr
d’une politique volontariste de développement de
l’apprentissage de la programmation. L’objectif premier
visait à équiper tous les élèves de 11/12 ans du
Royaume-Unis ainsi que leur enseignant. Maintenant
que c’est chose faite, le reste du monde peut en
profiter aussi.

\noindent{\hspace*{\fill}\sphinxincludegraphics[width=0.650\linewidth]{{mb4}.jpg}\hspace*{\fill}}

La BBC %
\begin{footnote}[1]\sphinxAtStartFootnote
Make It Digital - The BBC micro:bit. (s. d.).
Consulté 29 mars 2017, à l’adresse
\sphinxurl{http://www.bbc.co.uk/programmes/articles/4hVG2Br1W1LKCmw8nSm9WnQ/the-bbc-micro-bit}
%
\end{footnote} est le moteur de ce projet. 30 ans
après sa première distribution d’ordinateurs aux enfants
britanniques %
\begin{footnote}[2]\sphinxAtStartFootnote
BBC Micro. (2016, septembre 20).
In Wikipédia. Consulté à l’adresse
\sphinxurl{https://fr.wikipedia.org/w/index.php?title=BBC\_Micro\&oldid=129763631}
%
\end{footnote}, “la Vieille Dame” remet ça
aujourd’hui. La BBC utilise ses moyens de diffusions
pour promouvoir et accompagner les utilisateurs,
notamment en proposant des émissions de TV dédié à cet
objet sur un mode ludique et divertissant.
Sur les 29 %
\begin{footnote}[3]\sphinxAtStartFootnote
Partners. (s. d.). Consulté 29 mars 2017, à l’adresse
\sphinxurl{https://www.microbit.co.uk/partners}
%
\end{footnote} partenaires de ce projet,
se trouvent entre autres Microsoft %
\begin{footnote}[4]\sphinxAtStartFootnote
The BBC micro:bit and Microsoft -
Microsoft Research. (s. d.). Consulté 29 mars 2017,
à l’adresse
\sphinxurl{https://www.microsoft.com/en-us/research/project/the-bbc-microbit-and-microsoft/}
%
\end{footnote} pour une partie
logiciel et interface de programmation, ARM %
\begin{footnote}[5]\sphinxAtStartFootnote
Ltd, A. R. M. (s. d.). ARM \textbar{} Innovation Hub -
BBC micro:bit. Consulté 29 mars 2017, à l’adresse
\sphinxurl{http://www.arm.com/innovation/products/microbit.php}
%
\end{footnote} pour
la construction des processeur et la partie matériel,
et Samsung %
\begin{footnote}[6]\sphinxAtStartFootnote
Code on the go with Samsung \& micro:bit.
(s. d.). Consulté 29 mars 2017, à l’adresse
\sphinxurl{http://www.samsung.com/uk/citizenship/bbcmicrobit.html}
%
\end{footnote} pour un support mobile. C’est donc un
projet qui mobilise des acteurs majeurs du numériques
et de la communication, prévu pour durer.

\noindent{\hspace*{\fill}\sphinxincludegraphics[width=0.650\linewidth]{{mb2}.jpeg}\hspace*{\fill}}


\subsection{La carte Micro:bit}
\label{\detokenize{decouverte/05_generalite:la-carte-micro-bit}}
\noindent{\hspace*{\fill}\sphinxincludegraphics[width=0.650\linewidth]{{mb7}.png}\hspace*{\fill}}

Concrètement de quoi s’agit-il ? On parle ici de
microcontrôleur, à savoir une carte électronique
programmable pour interagir avec le monde réel.
C’est une version accessible de l’électronique que
tout un chacun manipule au quotidien sans se poser
de question, par exemple les dispositifs de domotique
qui permettent de gérer à distance le chauffage,
la sécurité, l’arrosage du géranium…
Ou bien plus simplement la bouilloire programmable
au degré °C près, la guirlande du sapin qui
clignote au rythme de “Jingle Bells”.
Ce microcontrôleur permet d’élaborer par exemple
un podomètre, un doudou sensoriel, un sismographe
rudimentaire…

\noindent{\hspace*{\fill}\sphinxincludegraphics[width=0.650\linewidth]{{mb6}.png}\hspace*{\fill}}

L’interface de programmation est conçue pour être
utilisable par un enfant d’une dizaine d’année, c’est
donc la simplicité qui prime. On dispose en première
approche d’une application internet utilisant le
principe de la programmation par bloc, à savoir sur
le principe des Blockly que l’on retrouve dans Scratch
ou StudioCode. En plus d’une programmation accessible,
l’interface propose une simulation de la carte.
Ceci permet de voir directement les effets du programme
dans l’interface. Pour un usage plus avancé il est
notamment possible de programmer avec le langage
Python %
\begin{footnote}[7]\sphinxAtStartFootnote
Python editor. (s. d.). Consulté 29 mars 2017,
à l’adresse \sphinxurl{http://python.microbit.org/editor.html}
%
\end{footnote} ou Javascript.

\noindent{\hspace*{\fill}\sphinxincludegraphics[width=0.650\linewidth]{{mb5}.jpg}\hspace*{\fill}}

Bien entendu de nombreux exemples de projets existent,
qu’ils soient issus des émissions BBC ou de la
communauté éducative. Sur le site officiel on
trouve des idées, des tutoriels, des leçons %
\begin{footnote}[8]\sphinxAtStartFootnote
Idées \textbar{} micro:bit. (s. d.). Consulté 29 mars
2017, à l’adresse \sphinxurl{http://microbit.org/fr/ideas/}
%
\end{footnote}
comme par exemple : une alarme de trousse, un
compteur de frappe (au baseball) ou encore des
leçons sur l’accélération.

\noindent{\hspace*{\fill}\sphinxincludegraphics[width=0.650\linewidth]{{mb3}.jpg}\hspace*{\fill}}
\paragraph{Notes}


\section{Programmation par blocs :  Makecode}
\label{\detokenize{decouverte/prise_en_main_blocs:dec-blocs}}\label{\detokenize{decouverte/prise_en_main_blocs:programmation-par-blocs-makecode}}\label{\detokenize{decouverte/prise_en_main_blocs::doc}}

\subsection{Une interface en ligne}
\label{\detokenize{decouverte/prise_en_main_blocs:une-interface-en-ligne}}
L’interface de programmation par blocs a été développée en
partenariat avec microsoft, elle se trouve en ligne à cette adresse:
\sphinxurl{https://makecode.microbit.org/}

Il s’agit donc d’une page internet mais dont le code est mis en cache par le navigateur
ce qui signifie qu’elle reste opérationnelle hors ligne.
\begin{quote}

\begin{sphinxadmonition}{note}{Note:}
A partir de chrome par exemple, il est possible de créer un raccourci sur le bureau.
\end{sphinxadmonition}
\end{quote}


\subsection{Un simulateur !}
\label{\detokenize{decouverte/prise_en_main_blocs:un-simulateur}}
Le très gros intérêt de cette interface consiste en son simulateur de carte qui
permet d’avoir un aperçu du fonctionnement du programme avant même de
le télécharger sur la carte.
\begin{quote}

\begin{sphinxadmonition}{note}{Note:}
Le simulateur peut ne pas fonctionner hors ligne.
\end{sphinxadmonition}
\end{quote}


\subsection{Compilation et enregistrement}
\label{\detokenize{decouverte/prise_en_main_blocs:compilation-et-enregistrement}}
Le téléchargement sur la carte se fait très simplement puiqu’elle est reconnue comme une clé USB
il suffit donc de cliquer sur «  »télécharger » » et de copier le fichier obtenu (.hex) sur la carte.


\subsection{Programmation}
\label{\detokenize{decouverte/prise_en_main_blocs:programmation}}
Comme toute interface de programmation par blocs, elle est très intuitive à manipuler.
Les premiers programmes se font très simplement et les catégories sont classées par couleurs
et par technicité.
\begin{quote}
\end{quote}


\subsection{Documentation}
\label{\detokenize{decouverte/prise_en_main_blocs:documentation}}
Une page de documentation présente les éléments de base pour la programmation par blocs:
\sphinxurl{https://makecode.microbit.org/blocks}

Une page de références présentent quelques fonctionnalités propre au microbit :
\sphinxurl{https://makecode.microbit.org/reference}


\section{Programmation en Python}
\label{\detokenize{decouverte/prise_en_main_python:dec-python}}\label{\detokenize{decouverte/prise_en_main_python:programmation-en-python}}\label{\detokenize{decouverte/prise_en_main_python::doc}}
Le micro:bit peut exécuter une version allégée de Python qui s’appelle MicroPython.
C’est une version spécialement dédiée aux microcontroleurs.


\subsection{Une interface en ligne}
\label{\detokenize{decouverte/prise_en_main_python:une-interface-en-ligne}}
Il est possible de programmer en python à partir d’un éditeur en ligne
\sphinxurl{http://python.microbit.org}

L’interface est cependant assez pauvre en fonctionnalité et ne dispose pas de l’autocomplétion.
\begin{quote}

\noindent{\hspace*{\fill}\sphinxincludegraphics{{python_enligne}.png}\hspace*{\fill}}
\end{quote}


\subsection{Mu : une interface complète}
\label{\detokenize{decouverte/prise_en_main_python:mu-une-interface-complete}}
Comme le dit (en anglais) la page d’accueil de Mu :
\sphinxstyleemphasis{Mu est un éditeur de code simple pour les programmeurs débutants.
Il est développé en Python et fonctionne sur Windows, OSX, Linux et Raspberry Pi.}

\noindent{\hspace*{\fill}\sphinxincludegraphics{{prise_en_main_mu}.png}\hspace*{\fill}}


\subsection{Programmation}
\label{\detokenize{decouverte/prise_en_main_python:programmation}}
L’autocomplétion et l’autoindentation est très efficace. L’interface est rapidement utilisable
par un débutant en programmation.


\subsection{Compilation et enregistrement}
\label{\detokenize{decouverte/prise_en_main_python:compilation-et-enregistrement}}
Le téléchargement sur la carte se fait très simplement puisqu’il suffit de cliquer sur
le bouton \sphinxincludegraphics[width=30\sphinxpxdimen]{{flash}.png} . Il est tout de même préférable d’avoir au préalable le réflexe
de vérifier le code avec \sphinxincludegraphics[width=30\sphinxpxdimen]{{check}.png} .


\subsection{Communication série}
\label{\detokenize{decouverte/prise_en_main_python:communication-serie}}
La fonction REPL de Mu permet d’ouvrir une communication via un port série
avec le micro:bit. Il est ainsi possible d’envoyer et de recevoir des données.
Sur les versions bêta il y a même un plotteur qui permet de visualiser graphiquement les données reçues.


\subsection{Documentation}
\label{\detokenize{decouverte/prise_en_main_python:documentation}}
Il est existe un documentation sur microbit et micropython, qui bien qu’en
anglais reste très accessible.

\sphinxurl{https://microbit-micropython.readthedocs.io/en/latest/index.html}


\section{Pile ou face (blocs)}
\label{\detokenize{decouverte/pileface-bloc:pile-ou-face-blocs}}\label{\detokenize{decouverte/pileface-bloc::doc}}\label{\detokenize{decouverte/pileface-bloc:blocpileface}}

\subsection{Description}
\label{\detokenize{decouverte/pileface-bloc:description}}
Le but de ce projet de simuler une expérience aléatoire de lancer de pièce.
A partir d’une situation simple idéale pour une prise en main de l’interface
de programmation, il s’agit par la suite d’améliorer le programmme pas à pas.
L’objectif est d’obtenir un programme utilisable dans le cadre de d’un cours sur
les statisiques et les probabilités.

On utilise l’interface de programmation par bloc :
\sphinxurl{https://makecode.microbit.org/}

\noindent{\hspace*{\fill}\sphinxincludegraphics{{pilefaceN3}.png}\hspace*{\fill}}


\subsubsection{Exemple(s) d’utilisation}
\label{\detokenize{decouverte/pileface-bloc:exemple-s-d-utilisation}}\begin{itemize}
\item {} 
Algorithmique et programmation (thème E) du programme de cycle 4

\item {} 
Domaine statistiques et probabilités du programme de mathématiques de Bac Pro

\item {} 
Accompagnement personnalisé pour des élèves de seconde Bac Pro

\end{itemize}


\subsection{Progression}
\label{\detokenize{decouverte/pileface-bloc:progression}}

\subsubsection{Niveau 1}
\label{\detokenize{decouverte/pileface-bloc1:niveau-1}}\label{\detokenize{decouverte/pileface-bloc1::doc}}
Ce que l’on veut obtenir : afficher 0 ou 1 de façon aléatoire à l’issue d’une courte animation.
Ce premier niveau permet de se familiariser avec l’interface tout en produisant un premier
programme fonctionnel et utile.


\paragraph{Les notions abordées}
\label{\detokenize{decouverte/pileface-bloc1:les-notions-abordees}}\begin{description}
\item[{Dans ce niveau nous trouvons les notions suivantes :}] \leavevmode\begin{itemize}
\item {} 
interactions avec l’utilisateur (bouton, affichage)

\item {} 
boucle

\item {} 
aléa

\end{itemize}

\end{description}

\noindent{\hspace*{\fill}\sphinxincludegraphics{{pilefaceN1}.png}\hspace*{\fill}}


\paragraph{Les blocs préconisés}
\label{\detokenize{decouverte/pileface-bloc1:les-blocs-preconises}}
On propose aux élèves d’utiliser les blocs suivant :

\noindent{\hspace*{\fill}\sphinxincludegraphics{{pilefaceN1blocs}.png}\hspace*{\fill}}


\paragraph{Une solution possible}
\label{\detokenize{decouverte/pileface-bloc1:une-solution-possible}}
Le résultat escompté est le suivant :

\noindent{\hspace*{\fill}\sphinxincludegraphics{{pilefaceN1proposition}.png}\hspace*{\fill}}


\subsubsection{Niveau 2}
\label{\detokenize{decouverte/pileface-bloc2::doc}}\label{\detokenize{decouverte/pileface-bloc2:niveau-2}}
Ce que l’on veut obtenir : afficher P ou F de façon aléatoire à l’issue d’une courte animation.
Pour ce deuxième niveau, on va utiliser deux nouveaux blocs seulement.


\paragraph{Les notions abordées}
\label{\detokenize{decouverte/pileface-bloc2:les-notions-abordees}}\begin{description}
\item[{Dans ce niveau nous trouvons les notions suivantes :}] \leavevmode\begin{itemize}
\item {} 
fonction (création et appel)

\item {} 
instruction conditionnelle

\end{itemize}

\end{description}

\noindent{\hspace*{\fill}\sphinxincludegraphics{{pilefaceN2}.png}\hspace*{\fill}}


\paragraph{Les blocs préconisés}
\label{\detokenize{decouverte/pileface-bloc2:les-blocs-preconises}}
On propose aux élèves d’utiliser les blocs suivant :

\noindent{\hspace*{\fill}\sphinxincludegraphics{{pilefaceN2blocs}.png}\hspace*{\fill}}


\paragraph{Une solution possible}
\label{\detokenize{decouverte/pileface-bloc2:une-solution-possible}}
Le résultat escompté est le suivant :

\noindent\sphinxincludegraphics{{pilefaceN2proposition}.png}


\subsubsection{Niveau 3}
\label{\detokenize{decouverte/pileface-bloc3::doc}}\label{\detokenize{decouverte/pileface-bloc3:niveau-3}}
Ce que l’on veut obtenir : compter les issues obtenues et afficher le résultat.
Pour parvenir à cela il va falloir utiliser une variable.


\paragraph{Les notions abordées}
\label{\detokenize{decouverte/pileface-bloc3:les-notions-abordees}}\begin{description}
\item[{Dans ce niveau nous trouvons les notions suivantes :}] \leavevmode\begin{itemize}
\item {} 
définition d’une variable

\item {} 
incrémentation d’une variable

\item {} 
concaténation de texte et de valeur

\end{itemize}

\end{description}

\noindent{\hspace*{\fill}\sphinxincludegraphics{{pilefaceN3}.png}\hspace*{\fill}}


\paragraph{Les blocs préconisés}
\label{\detokenize{decouverte/pileface-bloc3:les-blocs-preconises}}
On propose aux élèves d’utiliser les blocs suivant :

\noindent{\hspace*{\fill}\sphinxincludegraphics[width=0.500\linewidth]{{pilefaceN3blocs}.png}\hspace*{\fill}}


\paragraph{Une solution possible}
\label{\detokenize{decouverte/pileface-bloc3:une-solution-possible}}
Le résultat escompté est le suivant :

\noindent\sphinxincludegraphics{{pilefaceN3proposition}.png}


\section{Dé 6 faces (blocs)}
\label{\detokenize{decouverte/de6faces-bloc:blocde6faces}}\label{\detokenize{decouverte/de6faces-bloc::doc}}\label{\detokenize{decouverte/de6faces-bloc:de-6-faces-blocs}}

\subsection{Description}
\label{\detokenize{decouverte/de6faces-bloc:description}}
Le but de ce projet de simuler une expérience aléatoire de lancer d’un dé à 6 faces.
Toujours à partir d’une situation simple idéale , le programme peut être étoffé au gré des besoins.

On utilise l’interface de programmation par bloc :
\sphinxurl{https://makecode.microbit.org/}

\noindent{\hspace*{\fill}\sphinxincludegraphics{{deobjectifN2}.png}\hspace*{\fill}}


\subsubsection{Exemple(s) d’utilisation}
\label{\detokenize{decouverte/de6faces-bloc:exemple-s-d-utilisation}}\begin{itemize}
\item {} 
Algorithmique et programmation (thème E) du programme de cycle 4

\item {} 
Domaine statistique et probabilités du programme de mathématiques en seconde et première Bac Pro.

\item {} 
Accompagnement personnalisé pour des élèves de seconde Bac Pro

\end{itemize}


\subsection{Progression}
\label{\detokenize{decouverte/de6faces-bloc:progression}}

\subsubsection{Niveau 1}
\label{\detokenize{decouverte/de6faces-bloc1:niveau-1}}\label{\detokenize{decouverte/de6faces-bloc1::doc}}
Ce que l’on veut obtenir : afficher  un nombre entier entre 1 et 6 de façon aléatoire en secouant l’appareil.
Ce premier niveau permet d’introduire la problèmatique.


\paragraph{Les notions abordées}
\label{\detokenize{decouverte/de6faces-bloc1:les-notions-abordees}}\begin{description}
\item[{Dans ce niveau nous trouvons les notions suivantes :}] \leavevmode\begin{itemize}
\item {} 
interactions avec l’utilisateur (bouton, affichage)

\item {} 
boucle

\item {} 
aléa

\end{itemize}

\end{description}

\noindent{\hspace*{\fill}\sphinxincludegraphics{{deobjectifN1}.png}\hspace*{\fill}}


\paragraph{Les blocs préconisés}
\label{\detokenize{decouverte/de6faces-bloc1:les-blocs-preconises}}
On propose aux élèves d’utiliser les blocs suivant :

\noindent{\hspace*{\fill}\sphinxincludegraphics[width=0.500\linewidth]{{de6facesN1blocs}.png}\hspace*{\fill}}


\paragraph{Une solution possible}
\label{\detokenize{decouverte/de6faces-bloc1:une-solution-possible}}
Le résultat escompté est le suivant :

\noindent{\hspace*{\fill}\sphinxincludegraphics{{de6facesN1proposition}.png}\hspace*{\fill}}


\subsubsection{Niveau 2}
\label{\detokenize{decouverte/de6faces-bloc2::doc}}\label{\detokenize{decouverte/de6faces-bloc2:niveau-2}}
Ce que l’on veut obtenir : simuler l’affichage d’un dé à l’issue d’un tirage aléatoire.
Ce deuxième niveau, va permettre d’introduire de nouvelle notions.


\paragraph{Les notions abordées}
\label{\detokenize{decouverte/de6faces-bloc2:les-notions-abordees}}\begin{description}
\item[{Dans ce niveau nous trouvons les notions suivantes :}] \leavevmode\begin{itemize}
\item {} 
variable

\item {} 
instruction conditionnelle si/sinon

\end{itemize}

\end{description}

\noindent{\hspace*{\fill}\sphinxincludegraphics{{deobjectifN2}.png}\hspace*{\fill}}


\paragraph{Les blocs préconisés}
\label{\detokenize{decouverte/de6faces-bloc2:les-blocs-preconises}}
On propose aux élèves d’utiliser les blocs suivant :

\noindent{\hspace*{\fill}\sphinxincludegraphics{{de6facesN2blocs}.png}\hspace*{\fill}}


\paragraph{Une solution possible}
\label{\detokenize{decouverte/de6faces-bloc2:une-solution-possible}}
Le résultat escompté est le suivant :

\noindent\sphinxincludegraphics{{de6facesN2proposition}.png}


\section{Pile ou face (Python)}
\label{\detokenize{decouverte/pileface-python:pile-ou-face-python}}\label{\detokenize{decouverte/pileface-python::doc}}\label{\detokenize{decouverte/pileface-python:pythonpileface}}

\subsection{Description}
\label{\detokenize{decouverte/pileface-python:description}}
Le but de ce projet de simuler une expérience aléatoire de lancer de pièce.
A partir d’une situation simple idéale pour une prise en main avec Python
il s’agit par la suite d’améliorer le programmme pas à pas.
\begin{quote}

{\hyperref[\detokenize{decouverte/pileface-bloc:blocpileface}]{\sphinxcrossref{\DUrole{std,std-ref}{Pile ou face (blocs)}}}}
\end{quote}

On verra qu’il ne s’agit pas forcément de la transposition en Python des activités
proposées en bloc.

Il est intéressant de relever pour chaque étape l’apport que représente la programmation
avec  ce langage.


\subsubsection{Exemple(s) d’utilisation}
\label{\detokenize{decouverte/pileface-python:exemple-s-d-utilisation}}\begin{itemize}
\item {} 
Domaine statistiques et probabilités du programme de mathématiques de Bac Pro

\item {} 
Accompagnement personnalisé pour des élèves de seconde Bac Pro

\item {} 
Algorithmique et programmation au lycée général et technologique

\end{itemize}


\subsection{Progression}
\label{\detokenize{decouverte/pileface-python:progression}}

\subsubsection{Niveau 1}
\label{\detokenize{decouverte/pileface-python1:niveau-1}}\label{\detokenize{decouverte/pileface-python1::doc}}
Ce que l’on veut obtenir : afficher « P » ou « F » de façon aléatoire à l’issue d’une courte animation.
Ce premier niveau permet de se familiariser avec les fonctions utilisées pour interagir avec le microbit.
Contrairement à la programmation par bloc, il est plus efficace ici de choisir « P » ou « F »
aléatoirement dans la liste composée de ces 2 singletons.
De plus cela permettra facilement de truquer l’expérience aléatoire.


\paragraph{Les notions abordées}
\label{\detokenize{decouverte/pileface-python1:les-notions-abordees}}\begin{description}
\item[{Dans ce niveau nous trouvons les notions suivantes :}] \leavevmode\begin{itemize}
\item {} 
interactions avec le microbit (bouton, affichage)

\item {} 
aléa (random)

\item {} 
notion de liste

\end{itemize}

\end{description}


\paragraph{Les éléments utiles}
\label{\detokenize{decouverte/pileface-python1:les-elements-utiles}}
On propose aux élèves d’appeler les éléments suivants

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{random} \PYG{c+c1}{\PYGZsh{} bibliothèque pour générer de l\PYGZsq{}aléa}
\PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{xxxxx:xxxxx:xxxxx:xxxxx:xxxxx}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} où x représente l\PYGZsq{}intensité d\PYGZsq{}une diode comprise entre 0 et 9}
\PYG{n}{random}\PYG{o}{.}\PYG{n}{choice}\PYG{p}{(}\PYG{n}{liste}\PYG{p}{)}    \PYG{c+c1}{\PYGZsh{} pour choisir un élément au hasard dans une liste}
\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{P}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{F}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}    \PYG{c+c1}{\PYGZsh{} liste des issues (texte) que l\PYGZsq{}on veut afficher}
\end{sphinxVerbatim}


\paragraph{Une solution possible}
\label{\detokenize{decouverte/pileface-python1:une-solution-possible}}
Le résultat escompté est le suivant :

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{microbit} \PYG{k+kn}{import} \PYG{o}{*}

\PYG{k+kn}{import} \PYG{n+nn}{random}

\PYG{n}{piece1} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}           \PYG{c+c1}{\PYGZsh{} définiton de l\PYGZsq{}image \PYGZdq{}piece1\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}        \PYG{c+c1}{\PYGZsh{} aucune diode n\PYGZsq{}est éclairée}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{99999:}\PYG{l+s+s2}{\PYGZdq{}}        \PYG{c+c1}{\PYGZsh{} toutes les diodes de la 4ème ligne sont éclairées au maximum}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{piece2} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{90000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{09000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00900:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00090:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{piece3} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00900:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00900:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00900:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00900:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{piece4} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00009:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00090:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00900:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{09000:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{piece5} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{99999:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{k}{while} \PYG{n+nb+bp}{True}\PYG{p}{:}
    \PYG{k}{if} \PYG{n}{button\PYGZus{}a}\PYG{o}{.}\PYG{n}{get\PYGZus{}presses}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{piece1}\PYG{p}{)}        \PYG{c+c1}{\PYGZsh{} la matrice de LED montre l\PYGZsq{}image \PYGZdq{}piece1\PYGZdq{}}
        \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{200}\PYG{p}{)}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{piece2}\PYG{p}{)}
        \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{200}\PYG{p}{)}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{piece3}\PYG{p}{)}
        \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{200}\PYG{p}{)}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{piece4}\PYG{p}{)}
        \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{200}\PYG{p}{)}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{piece5}\PYG{p}{)}
        \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{200}\PYG{p}{)}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{piece1}\PYG{p}{)}
        \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{200}\PYG{p}{)}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{random}\PYG{o}{.}\PYG{n}{choice}\PYG{p}{(}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{P}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{F}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{)}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} affichage au hasard de P ou F}
\end{sphinxVerbatim}


\subsubsection{Niveau 2}
\label{\detokenize{decouverte/pileface-python2::doc}}\label{\detokenize{decouverte/pileface-python2:niveau-2}}
Ce que l’on veut obtenir : afficher « P » ou « F » de façon aléatoire à l’issue d’une courte animation.
L’intérêt ici est de comprendre l’appel à une liste pour l’animation et ainsi de gagner en efficacité et en lisibilité.


\paragraph{Les notions abordées}
\label{\detokenize{decouverte/pileface-python2:les-notions-abordees}}
Ce niveau permet d’appréhender une utilité supplémentaire du type d’objet « liste ».


\paragraph{Les éléments utiles}
\label{\detokenize{decouverte/pileface-python2:les-elements-utiles}}
On propose aux élèves d’appeler les éléments suivants

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{[}\PYG{n}{a}\PYG{p}{,} \PYG{n}{b} \PYG{p}{,}\PYG{n}{c} \PYG{o}{.}\PYG{o}{.}\PYG{o}{.} \PYG{p}{]} \PYG{c+c1}{\PYGZsh{} une liste ou a,b,c ... sont le nom d\PYGZsq{}images déclarées précédemment}
\end{sphinxVerbatim}


\paragraph{Une solution possible}
\label{\detokenize{decouverte/pileface-python2:une-solution-possible}}
Le résultat escompté est le suivant :

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{microbit} \PYG{k+kn}{import} \PYG{o}{*}

\PYG{k+kn}{import} \PYG{n+nn}{random}

\PYG{n}{piece1} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{99999:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{piece2} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{90000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{09000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00900:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00090:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{piece3} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00900:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00900:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00900:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00900:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{piece4} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00009:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00090:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00900:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{09000:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{piece5} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{99999:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{pieces} \PYG{o}{=} \PYG{p}{[}\PYG{n}{piece1}\PYG{p}{,} \PYG{n}{piece2}\PYG{p}{,} \PYG{n}{piece3}\PYG{p}{,} \PYG{n}{piece4}\PYG{p}{,} \PYG{n}{piece5}\PYG{p}{,} \PYG{n}{piece1}\PYG{p}{]}   \PYG{c+c1}{\PYGZsh{} la séquence d\PYGZsq{}images}

\PYG{k}{while} \PYG{n+nb+bp}{True}\PYG{p}{:}
    \PYG{k}{if} \PYG{n}{button\PYGZus{}a}\PYG{o}{.}\PYG{n}{get\PYGZus{}presses}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{pieces}\PYG{p}{,} \PYG{n}{delay}\PYG{o}{=}\PYG{l+m+mi}{200}\PYG{p}{)}             \PYG{c+c1}{\PYGZsh{} la matrice affiche chacune des images de la liste \PYGZdq{}pieces\PYGZdq{} avec une pause de 200ms entre chaque image}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{random}\PYG{o}{.}\PYG{n}{choice}\PYG{p}{(}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{P}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{F}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}


\subsubsection{Niveau 3}
\label{\detokenize{decouverte/pileface-python3::doc}}\label{\detokenize{decouverte/pileface-python3:niveau-3}}
Ce que l’on veut obtenir : afficher « P » ou « F » de façon aléatoire à l’issue d’une courte animation et compter le nombre
d’issues obtenues.


\paragraph{Les notions abordées}
\label{\detokenize{decouverte/pileface-python3:les-notions-abordees}}\begin{description}
\item[{Pour ce niveau, on va avoir besoin :}] \leavevmode\begin{itemize}
\item {} 
d’une variable pour stocker le résultat du tirage

\item {} 
de variables pour dénombres les issues « P » et les issues « F »

\item {} 
d’une intruction conditionnelle pour tester et agir selon le résultat du tirage

\end{itemize}

\end{description}


\paragraph{Les éléments utiles}
\label{\detokenize{decouverte/pileface-python3:les-elements-utiles}}
On propose aux élèves d’appeler les éléments suivants

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{if}\PYG{p}{:} \PYG{n}{et} \PYG{k}{else}\PYG{p}{:} \PYG{c+c1}{\PYGZsh{} instructions conditionnelle}
\PYG{o}{==}              \PYG{c+c1}{\PYGZsh{} qui permet de vérifier l\PYGZsq{}égalité entre deux objets}
\PYG{o}{+}\PYG{o}{=} \PYG{l+m+mi}{1}           \PYG{c+c1}{\PYGZsh{} qui permet d\PYGZsq{}incrémenter une variable de 1}
\end{sphinxVerbatim}


\paragraph{Une solution possible}
\label{\detokenize{decouverte/pileface-python3:une-solution-possible}}
Le résultat escompté est le suivant :

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{microbit} \PYG{k+kn}{import} \PYG{o}{*}

\PYG{k+kn}{import} \PYG{n+nn}{random}

\PYG{n}{p} \PYG{o}{=} \PYG{l+m+mi}{0}           \PYG{c+c1}{\PYGZsh{} variable stockant le nombre d\PYGZsq{}issues pile}
\PYG{n}{f} \PYG{o}{=} \PYG{l+m+mi}{0}           \PYG{c+c1}{\PYGZsh{} variable stockant le nombre d\PYGZsq{}issues face}

\PYG{n}{piece1} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{99999:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{piece2} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{90000:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{09000:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00900:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00090:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{piece3} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00900:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00900:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00900:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00900:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{piece4} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00009:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00090:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00900:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{09000:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{piece5} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{99999:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}
               \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{pieces} \PYG{o}{=} \PYG{p}{[}\PYG{n}{piece1}\PYG{p}{,} \PYG{n}{piece2}\PYG{p}{,} \PYG{n}{piece3}\PYG{p}{,} \PYG{n}{piece4}\PYG{p}{,} \PYG{n}{piece5}\PYG{p}{,} \PYG{n}{piece1}\PYG{p}{]}

\PYG{k}{while} \PYG{n+nb+bp}{True}\PYG{p}{:}
    \PYG{k}{if} \PYG{n}{button\PYGZus{}a}\PYG{o}{.}\PYG{n}{get\PYGZus{}presses}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{pieces}\PYG{p}{,} \PYG{n}{delay}\PYG{o}{=}\PYG{l+m+mi}{200}\PYG{p}{)}
        \PYG{n}{issue} \PYG{o}{=} \PYG{n}{random}\PYG{o}{.}\PYG{n}{choice}\PYG{p}{(}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{P}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{F}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{)}
        \PYG{k}{if} \PYG{n}{issue} \PYG{o}{==} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{P}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{P}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
            \PYG{n}{p} \PYG{o}{+}\PYG{o}{=} \PYG{l+m+mi}{1}                          \PYG{c+c1}{\PYGZsh{} incrémentation de la variable p (pile)}
        \PYG{k}{else}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{F}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
            \PYG{n}{f} \PYG{o}{+}\PYG{o}{=} \PYG{l+m+mi}{1}                          \PYG{c+c1}{\PYGZsh{} incrémentation de la variable f (face)}

    \PYG{k}{if} \PYG{n}{button\PYGZus{}b}\PYG{o}{.}\PYG{n}{get\PYGZus{}presses}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{scroll}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{P:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{o}{+}\PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{p}\PYG{p}{)}\PYG{p}{)}     \PYG{c+c1}{\PYGZsh{} affichage du nombre d\PYGZsq{}issues associées à P}
        \PYG{n}{delay} \PYG{o}{=} \PYG{l+m+mi}{200}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{scroll}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{F:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{o}{+}\PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{f}\PYG{p}{)}\PYG{p}{)}     \PYG{c+c1}{\PYGZsh{} affichage du nombre d\PYGZsq{}issues associées à F}
\end{sphinxVerbatim}


\section{Dé 6 faces (Python)}
\label{\detokenize{decouverte/de6faces-python::doc}}\label{\detokenize{decouverte/de6faces-python:pythonde6faces}}\label{\detokenize{decouverte/de6faces-python:de-6-faces-python}}

\subsection{Description}
\label{\detokenize{decouverte/de6faces-python:description}}
Le but de ce projet de simuler une expérience aléatoire de lancer d’un dé à 6 faces.
Tout comme le projet simulant un pile ou face, cette situation permet de comprendre
l’intérêt des listes et va un peu plus loin dans leur utilisation.


\subsubsection{Exemple(s) d’utilisation}
\label{\detokenize{decouverte/de6faces-python:exemple-s-d-utilisation}}\begin{itemize}
\item {} 
Algorithmique et programmation au lycée général et technologique

\item {} 
Domaine statistique et probabilités du programme de mathématiques en seconde et première Bac Pro.

\item {} 
Accompagnement personnalisé pour des élèves de seconde Bac Pro

\end{itemize}


\subsection{Progression}
\label{\detokenize{decouverte/de6faces-python:progression}}
Pour afficher aléatoirement un nombre entier entre 1 et 6,
on peut se contenter des 3 lignes ci-dessous.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{while} \PYG{n+nb+bp}{True}\PYG{p}{:}
   \PYG{k}{if} \PYG{n}{button\PYGZus{}a}\PYG{o}{.}\PYG{n}{get\PYGZus{}presses}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
      \PYG{c+c1}{\PYGZsh{} \PYGZdq{}str\PYGZdq{} car \PYGZdq{}display.show\PYGZdq{} n\PYGZsq{}affiche que du texte}
      \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{random}\PYG{o}{.}\PYG{n}{randint}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{6}\PYG{p}{)}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

Ce qui n’a pas d’autre intérêt que d’introduire la fonction
\sphinxcode{\sphinxupquote{randint}}.
Ici, contrairement à la progression utilisée lors du projet en blocs, nous suggèrons
de commencer par simuler l’affichage tel qu’il apparaît sur un vrai dé.
Cela  permet de réexploiter les listes d’images introduites avec le projet pile ou face.


\subsection{Progression}
\label{\detokenize{decouverte/de6faces-python:id1}}

\subsubsection{Niveau 1}
\label{\detokenize{decouverte/de6faces-python1:niveau-1}}\label{\detokenize{decouverte/de6faces-python1::doc}}
Ce que l’on veut obtenir : afficher  un nombre entier entre 1 et 6 de façon aléatoire mais
à la façon d’un vrai dé, c-a-d avec des points.
Ce premier niveau permet d’introduire la problèmatique et de réinvestir les notions
utilisées lors du projet pile ou face.


\paragraph{Les notions abordées}
\label{\detokenize{decouverte/de6faces-python1:les-notions-abordees}}\begin{description}
\item[{Dans ce niveau nous trouvons les notions suivantes :}] \leavevmode\begin{itemize}
\item {} 
constitution d’une liste

\item {} 
tirage d’un élément au hasard dans une liste

\end{itemize}

\end{description}


\paragraph{Les éléments utiles}
\label{\detokenize{decouverte/de6faces-python1:les-elements-utiles}}
On propose aux élèves d’appeler les éléments suivants

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{o}{.}\PYG{o}{.} \PYG{n}{code}\PYG{o}{\PYGZhy{}}\PYG{n}{block}\PYG{p}{:}\PYG{p}{:} \PYG{n}{python}

  \PYG{n}{un} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:00000:00900:00000:00000}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}   \PYG{c+c1}{\PYGZsh{} création d\PYGZsq{}une image par face}
  \PYG{n}{issues} \PYG{o}{=} \PYG{p}{[}\PYG{n}{un}\PYG{p}{,} \PYG{o}{.}\PYG{o}{.}\PYG{o}{.}\PYG{p}{]}    \PYG{c+c1}{\PYGZsh{} création d\PYGZsq{}une liste d\PYGZsq{}images}
  \PYG{n}{random}\PYG{o}{.}\PYG{n}{choice}\PYG{p}{(}\PYG{n}{issues}\PYG{p}{)}     \PYG{c+c1}{\PYGZsh{} tirage d\PYGZsq{}un élément au hasard dans une liste}
\end{sphinxVerbatim}


\paragraph{Une solution possible}
\label{\detokenize{decouverte/de6faces-python1:une-solution-possible}}
Le résultat escompté est le suivant :

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{microbit} \PYG{k+kn}{import} \PYG{o}{*}

\PYG{k+kn}{import} \PYG{n+nn}{random}

\PYG{n}{un} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:00000:00900:00000:00000}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{deux} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00009:00000:00000:00000:90000}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{trois} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{90000:00000:00900:00000:00009}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{quatre} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{90009:00000:00000:00000:90009}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{cinq} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{90009:00000:00900:00000:90009}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{six} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{90009:00000:90009:00000:90009}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{issues} \PYG{o}{=} \PYG{p}{[}\PYG{n}{un}\PYG{p}{,} \PYG{n}{deux}\PYG{p}{,} \PYG{n}{trois}\PYG{p}{,} \PYG{n}{quatre}\PYG{p}{,} \PYG{n}{cinq}\PYG{p}{,} \PYG{n}{six}\PYG{p}{]}

\PYG{k}{while} \PYG{n+nb+bp}{True}\PYG{p}{:}
    \PYG{k}{if} \PYG{n}{button\PYGZus{}a}\PYG{o}{.}\PYG{n}{get\PYGZus{}presses}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{random}\PYG{o}{.}\PYG{n}{choice}\PYG{p}{(}\PYG{n}{issues}\PYG{p}{)}\PYG{p}{)}
        \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{800}\PYG{p}{)}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{clear}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}


\subsubsection{Niveau 2}
\label{\detokenize{decouverte/de6faces-python2::doc}}\label{\detokenize{decouverte/de6faces-python2:niveau-2}}
Ce que l’on veut obtenir :


\paragraph{Les notions abordées}
\label{\detokenize{decouverte/de6faces-python2:les-notions-abordees}}\begin{description}
\item[{Dans ce niveau nous trouvons les notions suivantes :}] \leavevmode\begin{itemize}
\item {} 
\end{itemize}

\end{description}


\paragraph{Les éléments utiles}
\label{\detokenize{decouverte/de6faces-python2:les-elements-utiles}}
On propose aux élèves d’appeler les éléments suivants


\paragraph{Une solution possible}
\label{\detokenize{decouverte/de6faces-python2:une-solution-possible}}
Le résultat escompté est le suivant :

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{microbit} \PYG{k+kn}{import} \PYG{o}{*}

\PYG{k+kn}{import} \PYG{n+nn}{random}

\PYG{n}{un} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:00000:00900:00000:00000}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{deux} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00009:00000:00000:00000:90000}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{trois} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{90000:00000:00900:00000:00009}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{quatre} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{90009:00000:00000:00000:90009}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{cinq} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{90009:00000:00900:00000:90009}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{six} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{90009:00000:90009:00000:90009}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{n1} \PYG{o}{=} \PYG{l+m+mi}{0}
\PYG{n}{n2} \PYG{o}{=} \PYG{l+m+mi}{0}
\PYG{n}{n3} \PYG{o}{=} \PYG{l+m+mi}{0}
\PYG{n}{n4} \PYG{o}{=} \PYG{l+m+mi}{0}
\PYG{n}{n5} \PYG{o}{=} \PYG{l+m+mi}{0}
\PYG{n}{n6} \PYG{o}{=} \PYG{l+m+mi}{0}

\PYG{n}{issues} \PYG{o}{=} \PYG{p}{[}\PYG{n}{un}\PYG{p}{,} \PYG{n}{deux}\PYG{p}{,} \PYG{n}{trois}\PYG{p}{,} \PYG{n}{quatre}\PYG{p}{,} \PYG{n}{cinq}\PYG{p}{,} \PYG{n}{six}\PYG{p}{]}

\PYG{k}{while} \PYG{n+nb+bp}{True}\PYG{p}{:}
    \PYG{k}{if} \PYG{n}{button\PYGZus{}a}\PYG{o}{.}\PYG{n}{get\PYGZus{}presses}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{issue} \PYG{o}{=} \PYG{n}{random}\PYG{o}{.}\PYG{n}{choice}\PYG{p}{(}\PYG{n}{issues}\PYG{p}{)}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{issue}\PYG{p}{)}
        \PYG{k}{if} \PYG{n}{issue} \PYG{o}{==} \PYG{n}{un}\PYG{p}{:}
            \PYG{n}{n1} \PYG{o}{+}\PYG{o}{=} \PYG{l+m+mi}{1}
        \PYG{k}{elif} \PYG{n}{issue} \PYG{o}{==} \PYG{n}{deux}\PYG{p}{:}
            \PYG{n}{n2} \PYG{o}{+}\PYG{o}{=} \PYG{l+m+mi}{2}
        \PYG{k}{elif} \PYG{n}{issue} \PYG{o}{==} \PYG{n}{trois}\PYG{p}{:}
            \PYG{n}{n3} \PYG{o}{+}\PYG{o}{=} \PYG{l+m+mi}{1}
        \PYG{k}{elif} \PYG{n}{issue} \PYG{o}{==} \PYG{n}{quatre}\PYG{p}{:}
            \PYG{n}{n4} \PYG{o}{+}\PYG{o}{=} \PYG{l+m+mi}{1}
        \PYG{k}{elif} \PYG{n}{issue} \PYG{o}{==} \PYG{n}{cinq}\PYG{p}{:}
            \PYG{n}{n5} \PYG{o}{+}\PYG{o}{=} \PYG{l+m+mi}{1}
        \PYG{k}{elif} \PYG{n}{issue} \PYG{o}{==} \PYG{n}{six}\PYG{p}{:}
            \PYG{n}{n6} \PYG{o}{+}\PYG{o}{=} \PYG{l+m+mi}{1}
        \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{1000}\PYG{p}{)}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{clear}\PYG{p}{(}\PYG{p}{)}
    
    \PYG{k}{if} \PYG{n}{button\PYGZus{}b}\PYG{o}{.}\PYG{n}{get\PYGZus{}presses}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{scroll}\PYG{p}{(}
            \PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{n1}\PYG{p}{)}\PYG{o}{+}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ /}\PYG{l+s+s2}{\PYGZdq{}}\PYG{o}{+}\PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{n2}\PYG{p}{)}\PYG{o}{+}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ /}\PYG{l+s+s2}{\PYGZdq{}}
            \PYG{o}{+} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{n3}\PYG{p}{)}\PYG{o}{+}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ /}\PYG{l+s+s2}{\PYGZdq{}}\PYG{o}{+}\PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{n4}\PYG{p}{)}\PYG{o}{+}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ /}\PYG{l+s+s2}{\PYGZdq{}}
            \PYG{o}{+} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{n5}\PYG{p}{)}\PYG{o}{+}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ /}\PYG{l+s+s2}{\PYGZdq{}}\PYG{o}{+}\PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{n6}\PYG{p}{)}
            \PYG{p}{)}
\end{sphinxVerbatim}


\subsubsection{Niveau 3}
\label{\detokenize{decouverte/de6faces-python3::doc}}\label{\detokenize{decouverte/de6faces-python3:niveau-3}}
Ce que l’on veut obtenir : afficher  un nombre entier entre 1 et 6 de façon aléatoire en secouant l’appareil.


\paragraph{Les notions abordées}
\label{\detokenize{decouverte/de6faces-python3:les-notions-abordees}}\begin{description}
\item[{Dans ce niveau nous trouvons les notions suivantes :}] \leavevmode\begin{itemize}
\item {} 
\end{itemize}

\end{description}


\paragraph{Les éléments utiles}
\label{\detokenize{decouverte/de6faces-python3:les-elements-utiles}}
On propose aux élèves d’appeler les éléments suivants


\paragraph{Une solution possible}
\label{\detokenize{decouverte/de6faces-python3:une-solution-possible}}
Le résultat escompté est le suivant :

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{microbit} \PYG{k+kn}{import} \PYG{o}{*}

\PYG{k+kn}{import} \PYG{n+nn}{random}

\PYG{n}{un} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00000:00000:00900:00000:00000}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{deux} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{00009:00000:00000:00000:90000}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{trois} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{90000:00000:00900:00000:00009}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{quatre} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{90009:00000:00000:00000:90009}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{cinq} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{90009:00000:00900:00000:90009}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{six} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{90009:00000:90009:00000:90009}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{n} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}

\PYG{n}{issues} \PYG{o}{=} \PYG{p}{[}\PYG{n}{un}\PYG{p}{,} \PYG{n}{deux}\PYG{p}{,} \PYG{n}{trois}\PYG{p}{,} \PYG{n}{quatre}\PYG{p}{,} \PYG{n}{cinq}\PYG{p}{,} \PYG{n}{six}\PYG{p}{]}

\PYG{k}{while} \PYG{n+nb+bp}{True}\PYG{p}{:}
    \PYG{k}{if} \PYG{n}{button\PYGZus{}a}\PYG{o}{.}\PYG{n}{get\PYGZus{}presses}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{i} \PYG{o}{=} \PYG{n}{random}\PYG{o}{.}\PYG{n}{randint}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{5}\PYG{p}{)}        
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{issues}\PYG{p}{[}\PYG{n}{i}\PYG{p}{]}\PYG{p}{)}
        \PYG{n}{n}\PYG{p}{[}\PYG{n}{i}\PYG{p}{]} \PYG{o}{+}\PYG{o}{=} \PYG{l+m+mi}{1}
        \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{1000}\PYG{p}{)}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{clear}\PYG{p}{(}\PYG{p}{)}
    
    \PYG{k}{if} \PYG{n}{button\PYGZus{}b}\PYG{o}{.}\PYG{n}{get\PYGZus{}presses}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{for} \PYG{n}{k} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{)}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{scroll}\PYG{p}{(}\PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{n}\PYG{p}{[}\PYG{n}{k}\PYG{p}{]}\PYG{p}{)}\PYG{o}{+}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ /}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}


\chapter{Projets à réaliser}
\label{\detokenize{index:projets-a-realiser}}

\section{Boîte fermée}
\label{\detokenize{projets/boite-fermee:boite-fermee}}\label{\detokenize{projets/boite-fermee::doc}}\label{\detokenize{projets/boite-fermee:projetboite}}

\subsection{Description}
\label{\detokenize{projets/boite-fermee:description}}
\noindent{\hspace*{\fill}\sphinxincludegraphics{{boite_ouverture}.png}\hspace*{\fill}}


\subsubsection{Exemple(s) d’utilisation}
\label{\detokenize{projets/boite-fermee:exemple-s-d-utilisation}}

\paragraph{Escape game}
\label{\detokenize{projets/boite-fermee-exemple-escape:escape-game}}\label{\detokenize{projets/boite-fermee-exemple-escape::doc}}
Nous avons utilisé le projet {\hyperref[\detokenize{projets/boite-fermee:projetboite}]{\sphinxcrossref{\DUrole{std,std-ref}{Boîte fermée}}}} pour un escape
game proposé en stage.
\begin{itemize}
\item {} 
diaporama d’acceuil : \sphinxurl{http://url.univ-irem.fr/boite}

\end{itemize}

\noindent\sphinxincludegraphics{{fig-escape3}.png}


\subsection{Réalisation}
\label{\detokenize{projets/boite-fermee:realisation}}

\subsubsection{Fabriquer}
\label{\detokenize{projets/boite-fermee-fabriquer::doc}}\label{\detokenize{projets/boite-fermee-fabriquer:fabriquer}}
Nous détaillons ici comment fabriquer et assembler
le matériel nécessaire à la réalisation du projet
{\hyperref[\detokenize{projets/boite-fermee:projetboite}]{\sphinxcrossref{\DUrole{std,std-ref}{Boîte fermée}}}}.


\paragraph{Matériel :}
\label{\detokenize{projets/boite-fermee-fabriquer:materiel}}\begin{itemize}
\item {} 
2 cartes microbit avec leur alimentation

\item {} 
1 servomoteur

\item {} 
quelques fils de contact et pinces crocodiles

\item {} 
une boite (transparente)

\item {} 
pistolet à colle

\item {} 
chutes de bois

\end{itemize}


\paragraph{Assemblage :}
\label{\detokenize{projets/boite-fermee-fabriquer:assemblage}}\begin{itemize}
\item {} 
coller un morceau de bois d’environ 2 cm sur le servomoteur

\item {} 
coller le servomoteur au niveau de l’ouverture de la boîte de façon à ce que la partie mobile se trouve au niveau du couvercle

\item {} 
coller une cale de bois sur la partie inférieure de la boite de façon à ce que la partie mobile du servo puisse vérouiller lorsqu’elle vient en butée

\item {} 
brancher l’alimentation sur servo sur les bornes 3v et GND du microbit et le fil de commande sur la borne P0

\end{itemize}

\index{programmation par blocs}\index{servo}\index{luminosité}\ignorespaces 

\subsubsection{Coder}
\label{\detokenize{projets/boite-fermee-coder:index-0}}\label{\detokenize{projets/boite-fermee-coder:coder}}\label{\detokenize{projets/boite-fermee-coder::doc}}
Nous détaillons ici le code nécessaire à la réalisation
du projet {\hyperref[\detokenize{projets/boite-fermee:projetboite}]{\sphinxcrossref{\DUrole{std,std-ref}{Boîte fermée}}}}.

\noindent{\hspace*{\fill}\sphinxincludegraphics[width=0.650\linewidth]{{boite-fermee}.png}\hspace*{\fill}}


\section{Pierrot et Simon}
\label{\detokenize{projets/pierrot:projetpierrot}}\label{\detokenize{projets/pierrot:pierrot-et-simon}}\label{\detokenize{projets/pierrot::doc}}

\subsection{Description}
\label{\detokenize{projets/pierrot:description}}
\begin{sphinxadmonition}{note}{\label{projets/pierrot:index-0}À faire:}
capture d’écran / gif animée
\end{sphinxadmonition}


\subsubsection{Exemple(s) d’utilisation}
\label{\detokenize{projets/pierrot:exemple-s-d-utilisation}}

\paragraph{Escape game}
\label{\detokenize{projets/pierrot-exemple-escape:escape-game}}\label{\detokenize{projets/pierrot-exemple-escape::doc}}
Nous avons utilisé le projet \DUrole{xref,std,std-ref}{projetPierrot} pour un escape
game proposé en stage.
\begin{itemize}
\item {} 
diaporama d’acceuil : \sphinxurl{http://url.univ-irem.fr/pierrot}

\item {} 
page de formation : \sphinxurl{http://url.univ-irem.fr/algo1718-pierrot}

\end{itemize}

\noindent\sphinxincludegraphics{{fig-escape}.png}


\subsection{Réalisation}
\label{\detokenize{projets/pierrot:realisation}}

\subsubsection{Fabriquer}
\label{\detokenize{projets/pierrot-fabriquer::doc}}\label{\detokenize{projets/pierrot-fabriquer:fabriquer}}
Nous détaillons ici comment fabriquer et assembler
le matériel nécessaire à la réalisation du projet
\DUrole{xref,std,std-ref}{projetPierrot}.

\begin{sphinxadmonition}{note}{\label{projets/pierrot-fabriquer:index-0}À faire:}
tout faire.
\end{sphinxadmonition}

\index{micropython}\index{audio}\ignorespaces 

\subsubsection{Coder}
\label{\detokenize{projets/pierrot-coder:index-0}}\label{\detokenize{projets/pierrot-coder:coder}}\label{\detokenize{projets/pierrot-coder::doc}}
Nous détaillons ici le code nécessaire à la réalisation
du projet \DUrole{xref,std,std-ref}{projetPierrot}.

\begin{sphinxadmonition}{note}{\label{projets/pierrot-coder:index-1}À faire:}
tout à faire!
\end{sphinxadmonition}


\section{Go Fast}
\label{\detokenize{projets/goFast::doc}}\label{\detokenize{projets/goFast:go-fast}}\label{\detokenize{projets/goFast:projetgofast}}

\subsection{Description}
\label{\detokenize{projets/goFast:description}}
L’objectif de ce projet est de créer un jeu : le \sphinxstylestrong{Go Fast}.

Ce jeux se joue à deux joueurs. Le gagnant est celui qui est le plus
rapide à appuyer sur le bouton. Mais attention, si le bouton est
déclanché trop tôt, alors la partie est perdue !
\begin{quote}

\noindent\sphinxincludegraphics{{goFast}.png}
\end{quote}


\subsubsection{Règle du jeu}
\label{\detokenize{projets/goFast:regle-du-jeu}}\begin{enumerate}
\item {} 
initialiser le Micro:bit

\item {} 
lancer une partie en pressant le bouton A ou le bouton B

\item {} 
un compte à rebours de 3 secondes s’affiche à l’écran

\item {} 
après un temps \sphinxstyleemphasis{indéterminé}, un symbole s’affiche à l’écran

\item {} 
\sphinxstylestrong{le gagnant} est le premier à appuyer sur son bouton

\item {} 
recommencer à l’étape 2. pour faire une nouvelle partie

\end{enumerate}


\subsubsection{Simulateur}
\label{\detokenize{projets/goFast:simulateur}}
\begin{sphinxadmonition}{warning}{Avertissement:}
L’image ci-dessous est dynamique. Une fois chargée (si tout
se passe bien), elle vous propose une image qui simule le
micro:bit.
\begin{itemize}
\item {} 
cliquer sur le bouton A ou B pour lancer le jeu ;

\item {} 
cliquer sur un des deux boutons pour désigner le gagnant ;

\item {} 
cliquer (encore?) sur un bouton pour relancer une partie.

\end{itemize}
\end{sphinxadmonition}




\subsection{Réalisation}
\label{\detokenize{projets/goFast:realisation}}\phantomsection\label{\detokenize{projets/goFast-bloc-coder:gofast-bloc-coder}}
\index{programmation par blocs}\index{bouton}\index{durée}\ignorespaces 

\subsubsection{Coder par blocs}
\label{\detokenize{projets/goFast-bloc-coder:index-0}}\label{\detokenize{projets/goFast-bloc-coder:coder-par-blocs}}\label{\detokenize{projets/goFast-bloc-coder::doc}}

\paragraph{Structure de base du programme}
\label{\detokenize{projets/goFast-bloc-coder:structure-de-base-du-programme}}

\subparagraph{Initialisation du programme}
\label{\detokenize{projets/goFast-bloc-coder:initialisation-du-programme}}
\noindent\sphinxincludegraphics{{goFast_makecode_01}.png}

Quelques remarques concernant cette initialisation du micro:bit.

\begin{sphinxadmonition}{important}{Important:}
Il y a dans ce jeu différents \sphinxstylestrong{états}.
Le programme débute à l’état \sphinxcode{\sphinxupquote{0}}.
\begin{itemize}
\item {} 
\sphinxcode{\sphinxupquote{etat =  0}} : le jeu est en attente d’une partie.
On quitte cet état en pressant le bouton A ou B

\item {} 
\sphinxcode{\sphinxupquote{etat = 1}} : le compte à rebours se lance.
3 secondes plus tard, on passe automatiquement à l’état 2.

\item {} 
\sphinxcode{\sphinxupquote{etat = 2}} : la partie est en cours. Une pression sur le bouton
A ou B permet de passer à l’état 3.

\item {} 
\sphinxcode{\sphinxupquote{etat = 3}} : l’écran indique le bouton gagnant puis passe
automatiquement à l’état 0.

\end{itemize}
\end{sphinxadmonition}

\begin{sphinxadmonition}{note}{Note:}\begin{itemize}
\item {} 
\sphinxstylestrong{Victoire}
\begin{quote}

La variable \sphinxcode{\sphinxupquote{victoire}} permet d’afficher le gagnant.
Ce sera un texte qui vaudra \sphinxcode{\sphinxupquote{"A"}}, \sphinxcode{\sphinxupquote{"B"}} ou rien du tout \sphinxcode{\sphinxupquote{""}}.
\end{quote}

\item {} 
\sphinxstylestrong{Temps de référence}
\begin{quote}

Pour déterminer les durées, nous allons utilisé et mettre à jour
à la demande un temps de référence \sphinxcode{\sphinxupquote{t0}}.

Ainsi, la durée sera déterminée par
la différence entre le \sphinxcode{\sphinxupquote{temps d'exécution}} du micro:bit
et ce temps de référence.
\end{quote}

\end{itemize}
\end{sphinxadmonition}


\subparagraph{Boucle principale}
\label{\detokenize{projets/goFast-bloc-coder:boucle-principale}}
\begin{sphinxadmonition}{warning}{Avertissement:}
Lorsqu’un objet connecté est mis sous tension, le programme
s’exécute après une brève phase d’initialisation.

S’il n’y a pas de boucle, le programme ne s’exécute \sphinxstylestrong{qu’une seule
fois} puis… plus rien!

En fait, un objet connecté est en permanence en train d’attendre
que quelque chose se passe : un bouton pressé, un geste, une
certaine température, luminosité ou autres.

Un peu comme votre clavier qui attend \sphinxstylestrong{en permanence} que vous
appuyiez sur une touche.

C’est pour cela qu’il est nécessaire d’exécuter une boucle infinie
qui met le microcontrôleur en état d’attente. Cette boucle infinie
se nomme \sphinxcode{\sphinxupquote{toujours}}.
\end{sphinxadmonition}

Dans la boucle principale du programme, nous testerons donc
les différents états. Pour chacun des états, nous appellerons
la \sphinxstylestrong{fonction} dédiée.

\noindent\sphinxincludegraphics{{goFast_makecode_02}.png}

\begin{sphinxadmonition}{tip}{Astuce:}
Pour que cette boucle n’exécute que la tâche souhaitée, nous
testons la valeur de la variable \sphinxcode{\sphinxupquote{etat}}.

Ainsi, à chaque itération de la boucle, tant que \sphinxcode{\sphinxupquote{etat}} n’est pas
modifiée, c’est toujours la même fonction qui est appelée.

Cette méthode est très pratique pour afficher le compte à rebours
(état \sphinxcode{\sphinxupquote{1}}) ou le gagnant (état \sphinxcode{\sphinxupquote{3}}).
\end{sphinxadmonition}

\begin{sphinxadmonition}{note}{Note:}
La durée d’exécution du jeu est mise à jour entre les tests des
états 0 et 1.

Comme indiquée plus haut, la durée sera déterminée par
la différence entre le \sphinxcode{\sphinxupquote{temps d'exécution}} du micro:bit
et le temps de référence \sphinxcode{\sphinxupquote{t0}}.
\end{sphinxadmonition}


\subparagraph{La fonction \sphinxstyleliteralintitle{\sphinxupquote{etat\_0}}}
\label{\detokenize{projets/goFast-bloc-coder:la-fonction-etat-0}}
L’état \sphinxcode{\sphinxupquote{0}} est un état de \sphinxstyleemphasis{repos} du micro:bit : il ne fait rien
à par attendre qu’une partie démarre. Pour le sortir de cet état,
il suffit de presser un des deux boutons.

\noindent\sphinxincludegraphics{{goFast_makecode_03}.png}

\begin{sphinxadmonition}{note}{Note:}
Dès qu’un bouton est pressé, le temps de référence de cette
nouvelle partie est réinitialisé.

Nous ajoutons une pause afin éviter de détecter un double appui
ou un appui prolongé sur le bouton. Ceci entraînerait, inévitablement,
la perte de la partie pour le joueur concerné.
\end{sphinxadmonition}


\subparagraph{La fonction \sphinxstyleliteralintitle{\sphinxupquote{etat\_1}}}
\label{\detokenize{projets/goFast-bloc-coder:la-fonction-etat-1}}
La fonction \sphinxcode{\sphinxupquote{etat\_1}} est dédiée à l’affichage du compte à rebours.
La partie a débutée et si un joueur a le malheur de presser son
bouton maintenant : la partie s’arrête et le nom du gagnant s’affiche
en passant à l’état \sphinxcode{\sphinxupquote{3}}.

\noindent\sphinxincludegraphics{{goFast_makecode_04}.png}

\begin{sphinxadmonition}{note}{Note:}
Une fois que le compte à rebours est écoulé, on détermine
de façon aléatoire un temps d’attente entre 500ms et 5000ms.
On passe alors à l’état 2.
\end{sphinxadmonition}


\subparagraph{La fonction \sphinxstyleliteralintitle{\sphinxupquote{etat\_2}}}
\label{\detokenize{projets/goFast-bloc-coder:la-fonction-etat-2}}
Cet état est le jeu à proprement parlé. Si un des joueurs appui
sur son bouton avant que la première LED ne s’allume, la partie est
immédiatement perdue pour lui.

En revanche, s’il est le premier à appuyer après la durée d’attente
(aléatoire et déterminée à l’état \sphinxcode{\sphinxupquote{1}}), alors il est le gagnant.

\noindent\sphinxincludegraphics{{goFast_makecode_05}.png}


\subparagraph{La fonction \sphinxstyleliteralintitle{\sphinxupquote{etat\_3}}}
\label{\detokenize{projets/goFast-bloc-coder:la-fonction-etat-3}}
Cet état arrêter la partie. Mais avant cela, il y a une petite
animation, un léger suspens et puis une flêche indique le gagant.

\noindent\sphinxincludegraphics{{goFast_makecode_06}.png}

\begin{sphinxadmonition}{note}{Note:}
Les flêches sont différenciées selon les points cardinaux. La flêche
qui pointe vers la gauche est la flêche Ouest alors que celle pointant
vers la droite est la flêche Est.
\end{sphinxadmonition}
\phantomsection\label{\detokenize{projets/goFast-python-coder:gofast-bloc-coder}}
\index{micropython}\index{bouton}\index{durée}\ignorespaces 

\subsubsection{Coder en Python}
\label{\detokenize{projets/goFast-python-coder:index-0}}\label{\detokenize{projets/goFast-python-coder:coder-en-python}}\label{\detokenize{projets/goFast-python-coder::doc}}
Le code nécessaire à la réalisation du projet {\hyperref[\detokenize{projets/goFast:projetgofast}]{\sphinxcrossref{\DUrole{std,std-ref}{Go Fast}}}} a été
écrit en micropython. Vous trouverez ci-dessous :
\begin{itemize}
\item {} 
{\hyperref[\detokenize{projets/goFast-python-coder:le-code-etape-par-etape}]{\sphinxcrossref{Le code, étape par étape}}}

\item {} 
{\hyperref[\detokenize{projets/goFast-python-coder:le-code-final}]{\sphinxcrossref{Le code final}}}

\end{itemize}


\paragraph{Le code, étape par étape}
\label{\detokenize{projets/goFast-python-coder:le-code-etape-par-etape}}

\subparagraph{Initialisation du programme}
\label{\detokenize{projets/goFast-python-coder:initialisation-du-programme}}\begin{enumerate}
\item {} 
Incluons la bibliothèque Micro:bit et la bibliothèque
\sphinxcode{\sphinxupquote{random}} pour générer de l’aléa :

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{microbit} \PYG{k}{import} \PYG{o}{*}
\PYG{k+kn}{import} \PYG{n+nn}{random}
\end{sphinxVerbatim}

\item {} 
Il y a dans ce jeu différents états. Initialement, le programme
commence à l’état 0.

\begin{sphinxadmonition}{note}{Note:}
L’utilisation de la variable \sphinxcode{\sphinxupquote{etat}} permet de naviguer
entre différent moment du programme.
\end{sphinxadmonition}
\begin{itemize}
\item {} 
\sphinxcode{\sphinxupquote{etat =  0}} : le jeu est en attente d’une partie.
On quitte cet état en pressant le bouton A ou B

\item {} 
\sphinxcode{\sphinxupquote{etat = 1}} : le compte à rebours se lance.
3 secondes plus tard, on passe automatiquement à l’état 2.

\item {} 
\sphinxcode{\sphinxupquote{etat = 2}} : la partie est en cours. Une pression sur le bouton
A ou B permet de passer à l’état 3.

\item {} 
\sphinxcode{\sphinxupquote{etat = 3}} : l’écran indique le bouton gagnant puis passe
automatiquement à l’état 0.

\end{itemize}

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{0}
\end{sphinxVerbatim}

\item {} 
La variable \sphinxcode{\sphinxupquote{victoire}} stocke le nom du bouton gagnant.
Cette variable est un texte qui peut valoir \sphinxcode{\sphinxupquote{"A"}} ou \sphinxcode{\sphinxupquote{"B"}}.
En début de partie, nous l’initialisons à un texte vide :

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{victoire} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZdq{}}
\end{sphinxVerbatim}

\begin{sphinxadmonition}{tip}{Astuce:}
Pour faire une pause d’une certaine durée, il n’est parfois
pas recommandé d’utiliser la commande \sphinxcode{\sphinxupquote{sleep}}.

En effet, \sphinxcode{\sphinxupquote{sleep}} empêche l’exécution de toutes
les autres directives du programme durant cette pause.

Il est préférable de déterminer une durée depuis un temps de
référence et de tester, \sphinxstylestrong{à chaque boucle d’itération} la
durée écoulée.

Pour cela, il faudra utiliser la commande \sphinxcode{\sphinxupquote{runing\_time()}}.
\end{sphinxadmonition}

\item {} 
Dans ce programme, il faut parvenir à déterminer une \sphinxstylestrong{durée}.
Pour cela, nous allons utiliser la commande \sphinxcode{\sphinxupquote{running\_time()}}
qui retourne la durée depuis laquelle le Micro:bit est sous
tension.

Après avoir initialisé notre temps de référence \sphinxcode{\sphinxupquote{t0}}
(au démarrage du micro:bit ou en appuyant sur un bouton),
nous calculerons la différence \sphinxcode{\sphinxupquote{running\_time() - t0}}
qui déterminera la durée.

Initialisons \sphinxcode{\sphinxupquote{t0}}

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{t0} \PYG{o}{=} \PYG{n}{running\PYGZus{}time}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}

\item {} 
Pour déterminer une durée, définissons la fonction \sphinxcode{\sphinxupquote{chrono()}}.

La durée écoulée entre le temps de référence \sphinxcode{\sphinxupquote{t0}} et le moment
de l’appel de la fonction.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{chrono}\PYG{p}{(}\PYG{n}{t0}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{t1} \PYG{o}{=} \PYG{n}{running\PYGZus{}time}\PYG{p}{(}\PYG{p}{)}
    \PYG{n}{duree} \PYG{o}{=} \PYG{n}{t1}\PYG{o}{\PYGZhy{}}\PYG{n}{t0}
    \PYG{k}{return} \PYG{n}{duree}
\end{sphinxVerbatim}

\item {} 
Enfin, affichons à l’écran une image pour indiquer le programme
est en attente.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{Image}\PYG{o}{.}\PYG{n}{HEART\PYGZus{}SMALL}\PYG{p}{)}
\end{sphinxVerbatim}

\end{enumerate}


\subparagraph{Boucle}
\label{\detokenize{projets/goFast-python-coder:boucle}}
\begin{sphinxadmonition}{warning}{Avertissement:}
Lorsqu’un objet connecté est mis sous tension, le programme
s’exécute après une brève phase d’initialisation.

S’il n’y a pas de boucle, le programme ne s’exécute \sphinxstylestrong{qu’une seule
fois} puis… plus rien!

En fait, un objet connecté est en permanence en train d’attendre
que quelque chose se passe : un bouton pressé, un geste, une
certaine température, luminosité ou autres.

Un peu comme votre clavier qui attend \sphinxstylestrong{en permanence} que vous
appuyiez sur une touche.

C’est pour cela qu’il est nécessaire d’exécuter une boucle infinie
qui met le microcontrôleur en état d’attente.
\end{sphinxadmonition}
\begin{enumerate}
\item {} 
La phase de configuration est terminée. Passons maintenant
à la boucle qui… tourne en boucle.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{while} \PYG{k+kc}{True}\PYG{p}{:}
\end{sphinxVerbatim}

\item {} 
Configurons l’état \sphinxcode{\sphinxupquote{0}} du programme qui attend que l’un
des joueurs presse son bouton.

Lorsqu’un bouton est pressé, il faut initialiser le temps de
référence \sphinxcode{\sphinxupquote{t0}} puis changer d’état. La pause \sphinxcode{\sphinxupquote{sleep(250)}}
permet d’éviter un \sphinxstyleemphasis{double-clic} du bouton
qui entraînerait la fin prématurée de la partie.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
    \PYG{k}{if} \PYG{n}{etat} \PYG{o}{==} \PYG{l+m+mi}{0}\PYG{p}{:}
        \PYG{k}{if} \PYG{n}{button\PYGZus{}a}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)} \PYG{o+ow}{or} \PYG{n}{button\PYGZus{}b}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
            \PYG{c+c1}{\PYGZsh{} remise à zéro de la durée de la partie}
            \PYG{n}{t0} \PYG{o}{=} \PYG{n}{running\PYGZus{}time}\PYG{p}{(}\PYG{p}{)}
            \PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{1}
            \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{250}\PYG{p}{)}
\end{sphinxVerbatim}

\item {} 
Il est temps de relever la durée écoulée depuis le temps de
référence.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
    \PYG{n}{duree} \PYG{o}{=} \PYG{n}{chrono}\PYG{p}{(}\PYG{n}{t0}\PYG{p}{)}
\end{sphinxVerbatim}

\item {} 
L’état \sphinxcode{\sphinxupquote{1}} affiche le compte à rebours.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
    \PYG{k}{if} \PYG{n}{etat} \PYG{o}{==} \PYG{l+m+mi}{1}\PYG{p}{:}        
\end{sphinxVerbatim}

Mais attention, si un joueur presse un bouton dans cet état,
la partie est immédiatement perdue (et on passe alors à l’état \sphinxcode{\sphinxupquote{3}}
sans passer par la case \sphinxstyleemphasis{Départ}).

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
        \PYG{k}{if} \PYG{n}{button\PYGZus{}a}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
            \PYG{n}{victoire} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{B}\PYG{l+s+s2}{\PYGZdq{}}
            \PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{3}
        \PYG{k}{if} \PYG{n}{button\PYGZus{}b}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
            \PYG{n}{victoire} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{A}\PYG{l+s+s2}{\PYGZdq{}}
            \PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{3}
\end{sphinxVerbatim}

Affichons le compte à rebours (sans oublier que les durées
sont en millisecondes).

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
        \PYG{k}{if} \PYG{n}{duree} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{1000}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{3}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
        \PYG{k}{elif} \PYG{n}{duree} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{2000}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{2}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
        \PYG{k}{elif} \PYG{n}{duree} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{3000}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{1}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
        \PYG{k}{else}\PYG{p}{:}
\end{sphinxVerbatim}

Puis après les 3 secondes, on va effacer l’écran, déterminer une
durée d’attente au hasard, choisir une image au hasard et enfin
passer à l’état \sphinxcode{\sphinxupquote{2}}.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
        \PYG{k}{else}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{clear}\PYG{p}{(}\PYG{p}{)}
            \PYG{n}{attente} \PYG{o}{=} \PYG{n}{duree} \PYG{o}{+} \PYG{n}{random}\PYG{o}{.}\PYG{n}{randint}\PYG{p}{(}\PYG{l+m+mi}{500}\PYG{p}{,} \PYG{l+m+mi}{5000}\PYG{p}{)}
            \PYG{n}{imageAuHasard} \PYG{o}{=} \PYG{n}{random}\PYG{o}{.}\PYG{n}{choice}\PYG{p}{(}\PYG{n}{Image}\PYG{o}{.}\PYG{n}{ALL\PYGZus{}CLOCKS}\PYG{p}{)}
            \PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{2}
\end{sphinxVerbatim}

\item {} 
L’état \sphinxcode{\sphinxupquote{2}} est le jeu à proprement dit. Le plus rapide des
joueur à presser son bouton sera enfin déclaré vainqueur.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
    \PYG{k}{if} \PYG{n}{etat} \PYG{o}{==} \PYG{l+m+mi}{2}\PYG{p}{:}        
\end{sphinxVerbatim}

Mais attention, si un joueur clique avant la durée d’attente alors
son adversaire gagne immédiatement (et on passe alors à l’état \sphinxcode{\sphinxupquote{3}}).

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
        \PYG{k}{if} \PYG{n}{duree} \PYG{o}{\PYGZlt{}} \PYG{n}{attente}\PYG{p}{:}
            \PYG{k}{if} \PYG{n}{button\PYGZus{}a}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
                \PYG{n}{victoire} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{B}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{3}
            \PYG{k}{if} \PYG{n}{button\PYGZus{}b}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
                \PYG{n}{victoire} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{A}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{3}
\end{sphinxVerbatim}

Une fois que la durée a dépassée l’attente souhaitée, alors là
le plus rapide gagne.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
        \PYG{k}{if} \PYG{n}{duree} \PYG{o}{\PYGZgt{}} \PYG{n}{attente}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{imageAuHasard}\PYG{p}{)}
            \PYG{k}{if} \PYG{n}{button\PYGZus{}a}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
                \PYG{n}{victoire} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{A}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{3}
            \PYG{k}{if} \PYG{n}{button\PYGZus{}b}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
                \PYG{n}{victoire} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{B}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{3}
\end{sphinxVerbatim}

\item {} 
L’état \sphinxcode{\sphinxupquote{3}} permet d’indiquer le vainqueur.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
    \PYG{k}{if} \PYG{n}{etat} \PYG{o}{==} \PYG{l+m+mi}{3}\PYG{p}{:}
\end{sphinxVerbatim}

D’abord une petite animation pour le suspens.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
        \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{)}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{Image}\PYG{o}{.}\PYG{n}{HEART\PYGZus{}SMALL}\PYG{p}{)}
            \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{100}\PYG{p}{)}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{Image}\PYG{o}{.}\PYG{n}{HEART}\PYG{p}{)}
            \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{100}\PYG{p}{)}
\end{sphinxVerbatim}

Puis enfin le vainqueur. Nous allons utiliser une flèche pointant
vers le bouton en question. La flêche Ouest qui pointe le bouton de gauche
(\sphinxstyleemphasis{A}) et la flêche Est qui pointe le bouton \sphinxstyleemphasis{B} de droite.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
        \PYG{k}{if} \PYG{n}{victoire} \PYG{o}{==} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{A}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{Image}\PYG{o}{.}\PYG{n}{ARROW\PYGZus{}W}\PYG{p}{)}
        \PYG{k}{if} \PYG{n}{victoire} \PYG{o}{==} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{B}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{Image}\PYG{o}{.}\PYG{n}{ARROW\PYGZus{}E}\PYG{p}{)}
        \PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{0}
\end{sphinxVerbatim}

Pour finir, une pause qui ne fait pas de mal (peut être même que
ça économise les piles…).

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
    \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{100}\PYG{p}{)}
\end{sphinxVerbatim}

\end{enumerate}


\paragraph{Le code final}
\label{\detokenize{projets/goFast-python-coder:le-code-final}}
\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\},numbers=left,firstnumber=1,stepnumber=1]
\PYG{c+c1}{\PYGZsh{} \PYGZhy{}*\PYGZhy{} coding: utf\PYGZhy{}8\PYGZhy{}*\PYGZhy{}\PYGZsh{} Encoding cookie added by Mu Editor}
\PYG{c+c1}{\PYGZsh{} code utilisé pour l\PYGZsq{}atelier colloque C2i collège}
\PYG{c+c1}{\PYGZsh{} auteur : groupe InEFLP IREM de Marseille}

\PYG{k+kn}{from} \PYG{n+nn}{microbit} \PYG{k}{import} \PYG{o}{*}
\PYG{k+kn}{import} \PYG{n+nn}{random}

\PYG{c+c1}{\PYGZsh{} différente ETAT du jeu}
\PYG{c+c1}{\PYGZsh{} si etat == 0 : attente du début de partie (A ou B)}
\PYG{c+c1}{\PYGZsh{} si etat == 1 : compte à rebours}
\PYG{c+c1}{\PYGZsh{} si etat == 2 : en cours de partie}
\PYG{c+c1}{\PYGZsh{} si etat == 3 : affichage du gagnant}
\PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{0}

\PYG{c+c1}{\PYGZsh{} victoire == \PYGZdq{}A\PYGZdq{} : bouton A gagne}
\PYG{c+c1}{\PYGZsh{} victoire == \PYGZdq{}B\PYGZdq{} : bouton B gagne}
\PYG{c+c1}{\PYGZsh{} victoire == \PYGZdq{}\PYGZdq{} : personne}
\PYG{n}{victoire} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZdq{}}

\PYG{c+c1}{\PYGZsh{} fonction CHRONO qui sert de chronomètre}
\PYG{c+c1}{\PYGZsh{} retourne la durée écoulée depuis}
\PYG{c+c1}{\PYGZsh{} l\PYGZsq{}instant t0}
\PYG{n}{t0} \PYG{o}{=} \PYG{n}{running\PYGZus{}time}\PYG{p}{(}\PYG{p}{)}

\PYG{k}{def} \PYG{n+nf}{chrono}\PYG{p}{(}\PYG{n}{t0}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{t1} \PYG{o}{=} \PYG{n}{running\PYGZus{}time}\PYG{p}{(}\PYG{p}{)}
    \PYG{n}{duree} \PYG{o}{=} \PYG{n}{t1}\PYG{o}{\PYGZhy{}}\PYG{n}{t0}
    \PYG{k}{return} \PYG{n}{duree}

\PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{Image}\PYG{o}{.}\PYG{n}{HEART\PYGZus{}SMALL}\PYG{p}{)}

\PYG{k}{while} \PYG{k+kc}{True}\PYG{p}{:}
    
    \PYG{k}{if} \PYG{n}{etat} \PYG{o}{==} \PYG{l+m+mi}{0}\PYG{p}{:}
        \PYG{k}{if} \PYG{n}{button\PYGZus{}a}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)} \PYG{o+ow}{or} \PYG{n}{button\PYGZus{}b}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
            \PYG{c+c1}{\PYGZsh{} remise à zéro de la durée de la partie}
            \PYG{n}{t0} \PYG{o}{=} \PYG{n}{running\PYGZus{}time}\PYG{p}{(}\PYG{p}{)}
            \PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{1}
            \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{250}\PYG{p}{)}

    \PYG{c+c1}{\PYGZsh{} duree de la partie}
    \PYG{n}{duree} \PYG{o}{=} \PYG{n}{chrono}\PYG{p}{(}\PYG{n}{t0}\PYG{p}{)}
    
    \PYG{k}{if} \PYG{n}{etat} \PYG{o}{==} \PYG{l+m+mi}{1}\PYG{p}{:}        
        \PYG{c+c1}{\PYGZsh{} si les joueurs sont trop pressés, ils perdent…}
        \PYG{k}{if} \PYG{n}{button\PYGZus{}a}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
            \PYG{n}{victoire} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{B}\PYG{l+s+s2}{\PYGZdq{}}
            \PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{3}
        \PYG{k}{if} \PYG{n}{button\PYGZus{}b}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
            \PYG{n}{victoire} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{A}\PYG{l+s+s2}{\PYGZdq{}}
            \PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{3}
        
        \PYG{c+c1}{\PYGZsh{} affichage du compte à rebours}
        \PYG{k}{if} \PYG{n}{duree} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{1000}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{3}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
        \PYG{k}{elif} \PYG{n}{duree} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{2000}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{2}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
        \PYG{k}{elif} \PYG{n}{duree} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{3000}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{1}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
        \PYG{k}{else}\PYG{p}{:}
            \PYG{c+c1}{\PYGZsh{} initialisation d\PYGZsq{}une partie}
            \PYG{c+c1}{\PYGZsh{}}
            \PYG{c+c1}{\PYGZsh{} effacer écran}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{clear}\PYG{p}{(}\PYG{p}{)}
            \PYG{c+c1}{\PYGZsh{} attente et image aléatoire}
            \PYG{n}{attente} \PYG{o}{=} \PYG{n}{duree} \PYG{o}{+} \PYG{n}{random}\PYG{o}{.}\PYG{n}{randint}\PYG{p}{(}\PYG{l+m+mi}{500}\PYG{p}{,} \PYG{l+m+mi}{5000}\PYG{p}{)}
            \PYG{n}{imageAuHasard} \PYG{o}{=} \PYG{n}{random}\PYG{o}{.}\PYG{n}{choice}\PYG{p}{(}\PYG{n}{Image}\PYG{o}{.}\PYG{n}{ALL\PYGZus{}CLOCKS}\PYG{p}{)}
            \PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{2}
    
    \PYG{k}{if} \PYG{n}{etat} \PYG{o}{==} \PYG{l+m+mi}{2}\PYG{p}{:}        
        \PYG{c+c1}{\PYGZsh{} si les joueurs sont trop pressés, ils perdent…}
        \PYG{k}{if} \PYG{n}{duree} \PYG{o}{\PYGZlt{}} \PYG{n}{attente}\PYG{p}{:}
            \PYG{k}{if} \PYG{n}{button\PYGZus{}a}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
                \PYG{n}{victoire} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{B}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{3}
            \PYG{k}{if} \PYG{n}{button\PYGZus{}b}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
                \PYG{n}{victoire} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{A}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{3}
        
        \PYG{c+c1}{\PYGZsh{} détermination du plus rapide des 2 joueurs}
        \PYG{k}{if} \PYG{n}{duree} \PYG{o}{\PYGZgt{}} \PYG{n}{attente}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{imageAuHasard}\PYG{p}{)}
            \PYG{k}{if} \PYG{n}{button\PYGZus{}a}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
                \PYG{n}{victoire} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{A}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{3}
            \PYG{k}{if} \PYG{n}{button\PYGZus{}b}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
                \PYG{n}{victoire} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{B}\PYG{l+s+s2}{\PYGZdq{}}
                \PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{3}
    
    \PYG{k}{if} \PYG{n}{etat} \PYG{o}{==} \PYG{l+m+mi}{3}\PYG{p}{:}
        \PYG{c+c1}{\PYGZsh{} petite animation pour le suspens}
        \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{)}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{Image}\PYG{o}{.}\PYG{n}{HEART\PYGZus{}SMALL}\PYG{p}{)}
            \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{100}\PYG{p}{)}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{Image}\PYG{o}{.}\PYG{n}{HEART}\PYG{p}{)}
            \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{100}\PYG{p}{)}
        \PYG{c+c1}{\PYGZsh{} affichage du gagnant}
        \PYG{k}{if} \PYG{n}{victoire} \PYG{o}{==} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{A}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{Image}\PYG{o}{.}\PYG{n}{ARROW\PYGZus{}W}\PYG{p}{)}
        \PYG{k}{if} \PYG{n}{victoire} \PYG{o}{==} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{B}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{Image}\PYG{o}{.}\PYG{n}{ARROW\PYGZus{}E}\PYG{p}{)}
        \PYG{n}{etat} \PYG{o}{=} \PYG{l+m+mi}{0}
    
    \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{100}\PYG{p}{)}
\end{sphinxVerbatim}


\section{Températures}
\label{\detokenize{projets/temperature:projettemp}}\label{\detokenize{projets/temperature::doc}}\label{\detokenize{projets/temperature:temperatures}}

\subsection{Description}
\label{\detokenize{projets/temperature:description}}
\noindent\sphinxincludegraphics{{fig-temp}.png}

Le code téléversé dans le Micro:bit permet d’afficher un \sphinxstylestrong{code secret}.
Pour cela, il faut que la température augmente et
dépasse les 34°C. L’écran affiche une jauge qui se remplit.

Une fois la température atteinte, le code secret s’affiche après
une petite animation.


\subsubsection{Exemple(s) d’utilisation}
\label{\detokenize{projets/temperature:exemple-s-d-utilisation}}

\paragraph{Escape game}
\label{\detokenize{projets/temperature-exemple-escape:projettempescape}}\label{\detokenize{projets/temperature-exemple-escape:escape-game}}\label{\detokenize{projets/temperature-exemple-escape::doc}}
Nous avons utilisé le projet \DUrole{xref,std,std-ref}{projetTemp} pour un escape game proposé en stage.
\begin{itemize}
\item {} 
diaporama d’acceuil : \sphinxurl{http://url.univ-irem.fr/temp}

\item {} 
page de formation : \sphinxurl{http://url.univ-irem.fr/algo1718-temp}

\end{itemize}

Le but était d’afficher un code secret permettant d’accéder
à l’énigme suivante.

\noindent\sphinxincludegraphics{{fig-escape2}.png}

Les stagiaires devaient donc prendre connaissance du diaporama
d’accueil qui les renvoyaient vers des indices et le code source
téléversé dans le micro:bit.

À l’aide de l’étude du code source, des indices et la bidouille,
les stagiaires devaient effectuer les manipulations nécessaires à
l’affichage du code source.

De très bons moments pour tous !


\subsection{Réalisation}
\label{\detokenize{projets/temperature:realisation}}

\subsubsection{Fabriquer}
\label{\detokenize{projets/temperature-fabriquer:projettempfabriquer}}\label{\detokenize{projets/temperature-fabriquer::doc}}\label{\detokenize{projets/temperature-fabriquer:fabriquer}}
Pour le projet \DUrole{xref,std,std-ref}{projetTemp}, il n’y a besoin de presque rien :
\begin{itemize}
\item {} 
carte micro:bit ;

\item {} 
alimentation électrique (pile par exemple).

\end{itemize}
\phantomsection\label{\detokenize{projets/temperature-coder:projettempcoder}}
\index{micropython}\index{température}\ignorespaces 

\subsubsection{Coder}
\label{\detokenize{projets/temperature-coder:index-0}}\label{\detokenize{projets/temperature-coder:coder}}\label{\detokenize{projets/temperature-coder::doc}}
Le code nécessaire à la réalisation du projet \DUrole{xref,std,std-ref}{projetTemp} a été
écrit en micropython. Vous trouverez ci-dessous :
\begin{itemize}
\item {} 
{\hyperref[\detokenize{projets/temperature-coder:le-code-etape-par-etape}]{\sphinxcrossref{Le code, étape par étape}}}

\item {} 
{\hyperref[\detokenize{projets/temperature-coder:le-code-final}]{\sphinxcrossref{Le code final}}}

\end{itemize}


\paragraph{Le code, étape par étape}
\label{\detokenize{projets/temperature-coder:le-code-etape-par-etape}}\begin{enumerate}
\item {} 
Incluons la bibliothèque Micro:bit

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{microbit} \PYG{k}{import} \PYG{o}{*}
\end{sphinxVerbatim}

\item {} 
Créons les images qui nous servirons à animer l’écran.
La luminosité d’une diode varie de \sphinxcode{\sphinxupquote{0}} (éteinte)
à \sphinxcode{\sphinxupquote{9}} (maximale).

Lorsque la température augmente, l’affichage passe progressivement
de \sphinxcode{\sphinxupquote{image1}} à \sphinxcode{\sphinxupquote{image 5}}.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{image1} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{99999}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}    
\PYG{n}{image2} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{99999:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{image3} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{99999:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{image4} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{99999:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{image5} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{99999:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\item {} 
Il y aura deux états dans le jeu :
\begin{itemize}
\item {} 
La variable \sphinxcode{\sphinxupquote{victoire}} est vrai et l’écran
affiche le code secret.

\item {} 
la variable \sphinxcode{\sphinxupquote{victoire}} est fausse et l’écran
affiche l’énigme.

\end{itemize}

Au début, la variable est donc fausse.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{victoire} \PYG{o}{=} \PYG{k+kc}{False}
\end{sphinxVerbatim}

\item {} 
La phase de configuration est terminée. Passons maintenant à
la boucle qui… tourne en boucle.

Tout ce qui suivra cette codee sera donc indenté (tabulation).

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{while} \PYG{k+kc}{True}\PYG{p}{:}
\end{sphinxVerbatim}

\item {} 
Nous envisageons trois actions possibles :
\begin{enumerate}
\item {} 
le jeu se réinitialise grâce au bouton A ;

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
    \PYG{k}{if} \PYG{n}{button\PYGZus{}a}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{victoire} \PYG{o}{=} \PYG{k+kc}{False}
\end{sphinxVerbatim}

\end{enumerate}

b) le jeu est gagné et l’écran affiche le code final
(après une petite animation);
\begin{quote}

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
    \PYG{k}{if} \PYG{n}{victoire}\PYG{p}{:}
        \PYG{c+c1}{\PYGZsh{} petite image joyeuse}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{Image}\PYG{o}{.}\PYG{n}{HAPPY}\PYG{p}{)}
        \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{500}\PYG{p}{)}
        \PYG{c+c1}{\PYGZsh{} code secret à afficher…}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{scroll}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{XXXXXX}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}
\end{quote}
\begin{enumerate}
\setcounter{enumii}{2}
\item {} 
le jeu est en cours et l’écran affiche les \sphinxcode{\sphinxupquote{image}}.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
    \PYG{k}{if} \PYG{o+ow}{not} \PYG{n}{victoire}\PYG{p}{:}
\end{sphinxVerbatim}

Lire la température

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
        \PYG{n}{temp} \PYG{o}{=} \PYG{n}{temperature}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}

Plus la température augmente, plus les images affichées
remplissent l’écran

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
        \PYG{k}{if} \PYG{n}{temp} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{29}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{clear}\PYG{p}{(}\PYG{p}{)}
        \PYG{k}{elif} \PYG{l+m+mi}{29} \PYG{o}{\PYGZlt{}}\PYG{o}{=} \PYG{n}{temp} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{30}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{image1}\PYG{p}{)}
        \PYG{k}{elif} \PYG{l+m+mi}{30} \PYG{o}{\PYGZlt{}}\PYG{o}{=} \PYG{n}{temp} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{31}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{image2}\PYG{p}{)}
        \PYG{k}{elif} \PYG{l+m+mi}{31} \PYG{o}{\PYGZlt{}}\PYG{o}{=} \PYG{n}{temp} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{32}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{image3}\PYG{p}{)}
        \PYG{k}{elif} \PYG{l+m+mi}{32} \PYG{o}{\PYGZlt{}}\PYG{o}{=} \PYG{n}{temp} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{33}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{image4}\PYG{p}{)}
        \PYG{k}{elif} \PYG{l+m+mi}{33} \PYG{o}{\PYGZlt{}}\PYG{o}{=} \PYG{n}{temp} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{34}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{image5}\PYG{p}{)}
\end{sphinxVerbatim}

et enfin, si la température dépasse 34°C,
alors là on passe en mode \sphinxcode{\sphinxupquote{victoire}} vrai.
On ajoute une petite animation pour montrer que la
victoire approche.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
        \PYG{k}{elif} \PYG{l+m+mi}{34} \PYG{o}{\PYGZlt{}}\PYG{o}{=} \PYG{n}{temp}\PYG{p}{:}
            \PYG{n}{victoire} \PYG{o}{=} \PYG{k+kc}{True}
            \PYG{c+c1}{\PYGZsh{} petite animation}
            \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{)}\PYG{p}{:}
                \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{Image}\PYG{o}{.}\PYG{n}{SQUARE\PYGZus{}SMALL}\PYG{p}{)}
                \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{100}\PYG{p}{)}
                \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{Image}\PYG{o}{.}\PYG{n}{SQUARE}\PYG{p}{)}
                \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{100}\PYG{p}{)}
\end{sphinxVerbatim}

Pour finir, une pause syndicale de 500ms.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
        \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{500}\PYG{p}{)}
\end{sphinxVerbatim}

\end{enumerate}

\end{enumerate}


\paragraph{Le code final}
\label{\detokenize{projets/temperature-coder:le-code-final}}
\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\},numbers=left,firstnumber=1,stepnumber=1]
\PYG{c+c1}{\PYGZsh{} \PYGZhy{}*\PYGZhy{} coding: utf\PYGZhy{}8\PYGZhy{}*\PYGZhy{}\PYGZsh{} Encoding cookie added by Mu Editor}
\PYG{k+kn}{from} \PYG{n+nn}{microbit} \PYG{k}{import} \PYG{o}{*}

\PYG{c+c1}{\PYGZsh{} définir mes images persos}
\PYG{c+c1}{\PYGZsh{} pour les lignes qui se colorent}
\PYG{n}{image1} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{99999}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}    
\PYG{n}{image2} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{99999:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{image3} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{99999:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{image4} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00000:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{99999:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{image5} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{99999:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777:}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{77777}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}

\PYG{c+c1}{\PYGZsh{} booléen pour savoir si l\PYGZsq{}énigme est réussie}
\PYG{n}{victoire} \PYG{o}{=} \PYG{k+kc}{False}

\PYG{c+c1}{\PYGZsh{} à faire toujours et toujours…}
\PYG{k}{while} \PYG{k+kc}{True}\PYG{p}{:}
    \PYG{c+c1}{\PYGZsh{} utiliser le bouton A pour réinitialiser}
    \PYG{k}{if} \PYG{n}{button\PYGZus{}a}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{victoire} \PYG{o}{=} \PYG{k+kc}{False}
    
    \PYG{c+c1}{\PYGZsh{} si l\PYGZsq{}énigme est résolue}
    \PYG{k}{if} \PYG{n}{victoire}\PYG{p}{:}
        \PYG{c+c1}{\PYGZsh{} petite image joyeuse}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{Image}\PYG{o}{.}\PYG{n}{HAPPY}\PYG{p}{)}
        \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{500}\PYG{p}{)}
        \PYG{c+c1}{\PYGZsh{} code secret à afficher…}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{scroll}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{XXXXXX}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
    
    \PYG{c+c1}{\PYGZsh{} si  l\PYGZsq{}énigme n\PYGZsq{}a pas été résolue}
    \PYG{k}{if} \PYG{o+ow}{not} \PYG{n}{victoire}\PYG{p}{:}
        \PYG{c+c1}{\PYGZsh{} lire la température (en °C)}
        \PYG{n}{temp} \PYG{o}{=} \PYG{n}{temperature}\PYG{p}{(}\PYG{p}{)}
        \PYG{c+c1}{\PYGZsh{} affichage des images en fonction}
        \PYG{c+c1}{\PYGZsh{} de temp}
        \PYG{k}{if} \PYG{n}{temp} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{29}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{clear}\PYG{p}{(}\PYG{p}{)}
        \PYG{k}{elif} \PYG{l+m+mi}{29} \PYG{o}{\PYGZlt{}}\PYG{o}{=} \PYG{n}{temp} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{30}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{image1}\PYG{p}{)}
        \PYG{k}{elif} \PYG{l+m+mi}{30} \PYG{o}{\PYGZlt{}}\PYG{o}{=} \PYG{n}{temp} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{31}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{image2}\PYG{p}{)}
        \PYG{k}{elif} \PYG{l+m+mi}{31} \PYG{o}{\PYGZlt{}}\PYG{o}{=} \PYG{n}{temp} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{32}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{image3}\PYG{p}{)}
        \PYG{k}{elif} \PYG{l+m+mi}{32} \PYG{o}{\PYGZlt{}}\PYG{o}{=} \PYG{n}{temp} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{33}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{image4}\PYG{p}{)}
        \PYG{k}{elif} \PYG{l+m+mi}{33} \PYG{o}{\PYGZlt{}}\PYG{o}{=} \PYG{n}{temp} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{34}\PYG{p}{:}
            \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{image5}\PYG{p}{)}
        \PYG{c+c1}{\PYGZsh{} victoire !}
        \PYG{k}{elif} \PYG{l+m+mi}{34} \PYG{o}{\PYGZlt{}}\PYG{o}{=} \PYG{n}{temp}\PYG{p}{:}
            \PYG{n}{victoire} \PYG{o}{=} \PYG{k+kc}{True}
            \PYG{c+c1}{\PYGZsh{} petite animation}
            \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{)}\PYG{p}{:}
                \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{Image}\PYG{o}{.}\PYG{n}{SQUARE\PYGZus{}SMALL}\PYG{p}{)}
                \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{100}\PYG{p}{)}
                \PYG{n}{display}\PYG{o}{.}\PYG{n}{show}\PYG{p}{(}\PYG{n}{Image}\PYG{o}{.}\PYG{n}{SQUARE}\PYG{p}{)}
                \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{100}\PYG{p}{)}
        \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{500}\PYG{p}{)}
\end{sphinxVerbatim}


\section{Coffre fort}
\label{\detokenize{projets/coffre::doc}}\label{\detokenize{projets/coffre:coffre-fort}}\label{\detokenize{projets/coffre:projetcoffre}}

\subsection{Description}
\label{\detokenize{projets/coffre:description}}
\begin{sphinxadmonition}{note}{\label{projets/coffre:index-0}À faire:}
capture d’écran / gif animée
\end{sphinxadmonition}


\subsubsection{Exemple(s) d’utilisation}
\label{\detokenize{projets/coffre:exemple-s-d-utilisation}}

\paragraph{Escape game}
\label{\detokenize{projets/coffre-exemple-escape:escape-game}}\label{\detokenize{projets/coffre-exemple-escape::doc}}
Nous avons utilisé le projet {\hyperref[\detokenize{projets/coffre:projetcoffre}]{\sphinxcrossref{\DUrole{std,std-ref}{Coffre fort}}}} pour un escape
game proposé en stage.
\begin{itemize}
\item {} 
diaporama d’acceuil : \sphinxurl{http://url.univ-irem.fr/coffre}

\item {} 
page de formation : \sphinxurl{http://url.univ-irem.fr/algo1718-coffre}

\end{itemize}

\noindent\sphinxincludegraphics{{fig-escape4}.png}


\subsection{Réalisation}
\label{\detokenize{projets/coffre:realisation}}

\subsubsection{Fabriquer}
\label{\detokenize{projets/coffre-fabriquer::doc}}\label{\detokenize{projets/coffre-fabriquer:fabriquer}}
Nous détaillons ici comment fabriquer et assembler
le matériel nécessaire à la réalisation du projet
{\hyperref[\detokenize{projets/coffre:projetcoffre}]{\sphinxcrossref{\DUrole{std,std-ref}{Coffre fort}}}}.

\begin{sphinxadmonition}{note}{\label{projets/coffre-fabriquer:index-0}À faire:}
tout faire.
\end{sphinxadmonition}

\index{micropython}\index{accéléromètre}\ignorespaces 

\subsubsection{Coder}
\label{\detokenize{projets/coffre-coder:index-0}}\label{\detokenize{projets/coffre-coder:coder}}\label{\detokenize{projets/coffre-coder::doc}}
Nous détaillons ici le code nécessaire à la réalisation
du projet {\hyperref[\detokenize{projets/coffre:projetcoffre}]{\sphinxcrossref{\DUrole{std,std-ref}{Coffre fort}}}}.

\begin{sphinxadmonition}{note}{\label{projets/coffre-coder:index-1}À faire:}
tout à faire!
\end{sphinxadmonition}


\section{Planche de Galton}
\label{\detokenize{projets/galton:planche-de-galton}}\label{\detokenize{projets/galton::doc}}\label{\detokenize{projets/galton:projetgalton}}

\subsection{Description}
\label{\detokenize{projets/galton:description}}
Le but de ce programme est de simuler le parcours de billes sur
une planche de Galton.
Lorsque la bille tombe, elle a deux possibilité : elle descend verticalement ou elle
descend verticalement en se décalant horizontalement vers la droite.

La bille position de la bille est représentée par l’allumage d’une diode.
\begin{quote}

\noindent\sphinxincludegraphics{{galton}.png}
\end{quote}


\subsubsection{Type de programmation :}
\label{\detokenize{projets/galton:type-de-programmation}}
Le projet est ici programmé en python.


\subsubsection{Exemple(s) d’utilisation}
\label{\detokenize{projets/galton:exemple-s-d-utilisation}}\begin{itemize}
\item {} 
Domaine statistiques et probabilités du programme de mathématiques de Bac Pro

\item {} 
Accompagnement personnalisé pour des élèves de seconde Bac Pro

\end{itemize}


\subsection{Réalisation}
\label{\detokenize{projets/galton:realisation}}
\index{micropython}\index{galton}\ignorespaces 

\subsubsection{Coder}
\label{\detokenize{projets/galton-coder:index-0}}\label{\detokenize{projets/galton-coder:coder}}\label{\detokenize{projets/galton-coder::doc}}
Nous détaillons ici le code nécessaire à la réalisation
du projet {\hyperref[\detokenize{projets/galton:projetgalton}]{\sphinxcrossref{\DUrole{std,std-ref}{Planche de Galton}}}}.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{microbit} \PYG{k+kn}{import} \PYG{o}{*}
\PYG{k+kn}{from} \PYG{n+nn}{random} \PYG{k+kn}{import} \PYG{n}{random}\PYG{p}{,} \PYG{n}{seed}

\PYG{n}{n} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}     \PYG{c+c1}{\PYGZsh{} le tableau contenant les compteurs}


\PYG{k}{def} \PYG{n+nf}{aff}\PYG{p}{(}\PYG{n}{n}\PYG{p}{,} \PYG{n}{m}\PYG{p}{)}\PYG{p}{:}          \PYG{c+c1}{\PYGZsh{} la fonction affichant le graph}
    \PYG{n}{q} \PYG{o}{=} \PYG{n}{n} \PYG{o}{/}\PYG{o}{/} \PYG{l+m+mi}{9}          \PYG{c+c1}{\PYGZsh{} nombre de led eclaire totalement}
    \PYG{n}{r} \PYG{o}{=} \PYG{n}{n} \PYG{o}{\PYGZpc{}} \PYG{l+m+mi}{9}           \PYG{c+c1}{\PYGZsh{} portion de la derniere led eclaire}
    \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{n}{q}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{set\PYGZus{}pixel}\PYG{p}{(}\PYG{n}{m}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{o}{\PYGZhy{}}\PYG{n}{i}\PYG{p}{,} \PYG{l+m+mi}{9}\PYG{p}{)}
    \PYG{n}{display}\PYG{o}{.}\PYG{n}{set\PYGZus{}pixel}\PYG{p}{(}\PYG{n}{m}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{o}{\PYGZhy{}}\PYG{n}{q}\PYG{p}{,} \PYG{n}{r}\PYG{p}{)}


\PYG{k}{def} \PYG{n+nf}{chute}\PYG{p}{(}\PYG{n}{t}\PYG{p}{)}\PYG{p}{:}                \PYG{c+c1}{\PYGZsh{} fonction affichant la chute}
    \PYG{n}{display}\PYG{o}{.}\PYG{n}{clear}\PYG{p}{(}\PYG{p}{)}
    \PYG{n}{y}\PYG{p}{,} \PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}
    \PYG{n}{display}\PYG{o}{.}\PYG{n}{set\PYGZus{}pixel}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{,} \PYG{l+m+mi}{9}\PYG{p}{)}
    \PYG{n}{sleep}\PYG{p}{(}\PYG{n}{t}\PYG{p}{)}
    \PYG{k}{while} \PYG{n}{y} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{4}\PYG{p}{:}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{clear}\PYG{p}{(}\PYG{p}{)}
        \PYG{k}{if} \PYG{n}{random}\PYG{o}{.}\PYG{n}{randint}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{)}\PYG{p}{:}     \PYG{c+c1}{\PYGZsh{} si aléa entre 0 ou 1 est vrai}
            \PYG{n}{y} \PYG{o}{=} \PYG{n}{y} \PYG{o}{+} \PYG{l+m+mi}{1}            \PYG{c+c1}{\PYGZsh{} on augmente y de 1}
        \PYG{k}{else}\PYG{p}{:}
            \PYG{n}{x} \PYG{o}{=} \PYG{n}{x} \PYG{o}{+} \PYG{l+m+mi}{1}
            \PYG{n}{y} \PYG{o}{=} \PYG{n}{y} \PYG{o}{+} \PYG{l+m+mi}{1}
        \PYG{n}{display}\PYG{o}{.}\PYG{n}{set\PYGZus{}pixel}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{,} \PYG{l+m+mi}{9}\PYG{p}{)}
        \PYG{n}{sleep}\PYG{p}{(}\PYG{n}{t}\PYG{p}{)}
    \PYG{n}{n}\PYG{p}{[}\PYG{n}{x}\PYG{p}{]} \PYG{o}{=} \PYG{n}{n}\PYG{p}{[}\PYG{n}{x}\PYG{p}{]}\PYG{o}{+}\PYG{l+m+mi}{1}        \PYG{c+c1}{\PYGZsh{} incrementation du compteur de la position x}
    \PYG{n}{display}\PYG{o}{.}\PYG{n}{set\PYGZus{}pixel}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{)}


\PYG{k}{while} \PYG{n+nb+bp}{True}\PYG{p}{:}
    \PYG{k}{if} \PYG{n}{button\PYGZus{}a}\PYG{o}{.}\PYG{n}{is\PYGZus{}pressed}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{chute}\PYG{p}{(}\PYG{l+m+mi}{500}\PYG{p}{)}

    \PYG{k}{elif} \PYG{n}{button\PYGZus{}b}\PYG{o}{.}\PYG{n}{get\PYGZus{}presses}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{n} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}
        \PYG{k}{for} \PYG{n}{k} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{80}\PYG{p}{)}\PYG{p}{:}
            \PYG{n}{chute}\PYG{p}{(}\PYG{n+nb}{round}\PYG{p}{(}\PYG{l+m+mi}{500} \PYG{o}{/} \PYG{p}{(}\PYG{l+m+mf}{1.05}\PYG{o}{*}\PYG{o}{*}\PYG{n}{k}\PYG{p}{)}\PYG{p}{)}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} accélération de la chute}
            \PYG{k}{for} \PYG{n}{j} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{)}\PYG{p}{:}
                \PYG{n}{aff}\PYG{p}{(}\PYG{n}{n}\PYG{p}{[}\PYG{n}{j}\PYG{p}{]}\PYG{p}{,} \PYG{n}{j}\PYG{p}{)}
            \PYG{n}{sleep}\PYG{p}{(}\PYG{l+m+mi}{200}\PYG{p}{)}
        \PYG{k}{print}\PYG{p}{(}\PYG{n}{n}\PYG{p}{)}
\end{sphinxVerbatim}


\subsubsection{Fabriquer}
\label{\detokenize{projets/galton-fabriquer::doc}}\label{\detokenize{projets/galton-fabriquer:fabriquer}}
Nous détaillons ici comment fabriquer et assembler
le matériel nécessaire à la réalisation du projet
{\hyperref[\detokenize{projets/galton:projetgalton}]{\sphinxcrossref{\DUrole{std,std-ref}{Planche de Galton}}}}.

\begin{sphinxadmonition}{note}{\label{projets/galton-fabriquer:index-0}À faire:}
tout faire.
\end{sphinxadmonition}


\chapter{Index et page de recherche}
\label{\detokenize{index:index-et-page-de-recherche}}\begin{itemize}
\item {} 
\DUrole{xref,std,std-ref}{genindex}

\item {} 
\DUrole{xref,std,std-ref}{search}

\end{itemize}


\bigskip\hrule\bigskip

\sphinxhref{http://microbit.readthedocs.io/fr/latest/?badge=latest}{}


\renewcommand{\indexname}{Index}
\printindex
\end{document}